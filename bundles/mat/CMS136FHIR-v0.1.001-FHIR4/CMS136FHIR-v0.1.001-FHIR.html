<!DOCTYPE html>
<html>
<head>
    <style>
      body {
        background-color: #ffffff;;
        margin: 0px;
        padding: 10px;
        height: 100%;
        font-size: 1em;
      }

      p, li {
        font-size: 12px;
        line-height: 1.4em;
        font-family: verdana;
        margin: 0 0 20px 0;
        font-weight: normal;
      }

      td {
        font-size: 12px;
        line-height: 1.4em;
        font-family: verdana;
        font-weight: normal;
        padding: 3px;
        vertical-align: top;
      }

      tr {
        font-size: 12px;
        line-height: 1.4em;
        font-family: verdana;
        font-weight: normal;
        padding: 3px;
        vertical-align: top;
        text-align: left;
      }

      table.colstu td {
        border: 1px grey solid;
        border-spacing: 0;
        padding: 5px;
        border-collapse: collapse;
        background-color: #fff5e6;
      }

      table.colsd td {
        border: 1px grey solid;
        border-spacing: 0;
        padding: 5px;
        border-collapse: collapse;
        background-color: #efefef;
      }

      table.colsn td {
        border: 1px grey solid;
        border-spacing: 0;
        padding: 5px;
        border-collapse: collapse;
        background-color: #e6ffe6;
      }

      table.colse td {
        border: 1px grey solid;
        border-spacing: 0;
        padding: 5px;
        border-collapse: collapse;
        background-color: #e6e6e6;
      }

      table.colsi td {
        border: 1px grey solid;
        border-spacing: 0;
        padding: 5px;
        border-collapse: collapse;
        background-color: #ffffe6;
      }

      table.list td {
        border-top: 1px silver solid;
        border-spacing: 0;
      }

      table.bare td {
        border-spacing: 0;
      }

      ul.dict li {
        font-size: 11px;
        line-height: 1.2em;
        font-family: verdana;
        font-weight: normal;
        padding: 3px;
      }

      table.dict td {
        padding: 3px 7px 2px 7px;
        font-size: 11px;
        line-height: 1.2em;
        font-family: verdana;
        font-weight: normal;
        padding: 3px;
        vertical-align: top;
      }

      table.dict p {
        font-size: 11px;
      }

      table {
        margin-bottom: 10px;
        border-collapse: collapse;
      }

      table.codes td {
        border: 1px solid silver;
        padding: 3px 7px 2px 7px;
        font-size: 12px;
        line-height: 1.4em;
        font-family: verdana;
        font-weight: normal;
        padding: 3px;
        vertical-align: top;
      }

      table.grid {
        margin-bottom: 10px;
        border: 1px black solid;
        margin-right: auto;

      }

      table.grid th {
        border: 1px solid silver;
        padding: 3px 7px 2px 7px;
        font-size: 12px;
        line-height: 1.4em;
        font-family: verdana;
        font-weight: bold;
        padding: 3px;
        vertical-align: top;
      }

      table.grid td {
        border: 1px solid silver;
        padding: 3px 7px 2px 7px;
        font-size: 12px;
        line-height: 1.4em;
        font-family: verdana;
        font-weight: normal;
        padding: 3px;
        vertical-align: top;
      }

      ul {
        margin: 10px 0;
        padding: 0 0 0 25px;
      }

      .dense li {
        margin: 0 0 0 0;
      }

      li {
        margin: 0 0 5px 0;
      }

      h1 {
        font-size: 16px;
        margin: 0 0 4px 0;
        font-family: verdana;
        border-bottom: 1px solid #7e7e7e;
        padding-bottom: 2px;
      }

      h2 {
        font-family: verdana;
        line-height: 1.2em;
        font-size: 14px;
        margin: 0 0 3px 0;
        margin-top: 15px;
        border-bottom: 1px solid #dcdcdc;
        padding-bottom: 2px;
      }

      h3 {
        font-family: verdana;
        line-height: 1.2em;
        font-size: 12px;
        margin: 0 0 3px 0;
        margin-top: 10px;
      }

      h4 {
        font-family: verdana;
        line-height: 1.2em;
        font-size: 11px;
        margin: 0 0 3px 0;
        margin-top: 10px;
      }

      div.sidebar h2 {
        border-bottom: 1px solid #dcdcdc;
        padding-bottom: 2px;
        padding-top: 0px;
        margin-top: 0px;
        font-weight: normal;
        margin-left: 8px;
        margin-bottom: 0px;
        font-size: 12px;
      }

      div.sidebar p {
        padding-bottom: 0px;
        padding-top: 10px;
        font-weight: normal;
        margin-left: 8px;
        font-size: 12px;
        margin-bottom: 8px;
      }

      div.sidebar ul {
        list-style: none;
        padding: 0px;
        margin-left: 6px;
        font-size: 11px;
        line-height: 2.125em;
      }

      div.sidebar li {
        margin: 0px 0px 0px 6px;
        padding: 0px;
        font-size: 11px;
        line-height: 2.125em;
      }

      a {
        color: #428bca;
        text-decoration: none;
      }

      a.xmltag :visited {
        color: Navy;
      }

      a.xmltag :hover {
        color: Blue;
      }

      pre {
        display: block;
        border: 1px solid #cccccc;
        border-radius: 4px;
      }

      pre a {
        color: darkgreen;
        text-decoration: none;
        border: 0;

      }

      /* PrismJS 1.21.0
      https://prismjs.com/download.html#themes=prism&languages=markup+css+clike+javascript+abap+abnf+actionscript+ada+agda+al+antlr4+apacheconf+apl+applescript+aql+arduino+arff+asciidoc+aspnet+asm6502+autohotkey+autoit+bash+basic+batch+bbcode+birb+bison+bnf+brainfuck+brightscript+bro+bsl+c+csharp+cpp+cil+clojure+cmake+coffeescript+concurnas+csp+crystal+css-extras+cypher+d+dart+dax+dhall+diff+django+dns-zone-file+docker+ebnf+editorconfig+eiffel+ejs+elixir+elm+etlua+erb+erlang+excel-formula+fsharp+factor+firestore-security-rules+flow+fortran+ftl+gml+gcode+gdscript+gedcom+gherkin+git+glsl+go+graphql+groovy+haml+handlebars+haskell+haxe+hcl+hlsl+http+hpkp+hsts+ichigojam+icon+ignore+inform7+ini+io+j+java+javadoc+javadoclike+javastacktrace+jolie+jq+jsdoc+js-extras+json+json5+jsonp+jsstacktrace+js-templates+julia+keyman+kotlin+latex+latte+less+lilypond+liquid+lisp+livescript+llvm+lolcode+lua+makefile+markdown+markup-templating+matlab+mel+mizar+mongodb+monkey+moonscript+n1ql+n4js+nand2tetris-hdl+naniscript+nasm+neon+nginx+nim+nix+nsis+objectivec+ocaml+opencl+oz+parigp+parser+pascal+pascaligo+pcaxis+peoplecode+perl+php+phpdoc+php-extras+plsql+powerquery+powershell+processing+prolog+properties+protobuf+pug+puppet+pure+purebasic+purescript+python+q+qml+qore+r+racket+jsx+tsx+reason+regex+renpy+rest+rip+roboconf+robotframework+ruby+rust+sas+sass+scss+scala+scheme+shell-session+smali+smalltalk+smarty+sml+solidity+solution-file+soy+sparql+splunk-spl+sqf+sql+stan+iecst+stylus+swift+t4-templating+t4-cs+t4-vb+tap+tcl+tt2+textile+toml+turtle+twig+typescript+typoscript+unrealscript+vala+vbnet+velocity+verilog+vhdl+vim+visual-basic+warpscript+wasm+wiki+xeora+xml-doc+xojo+xquery+yaml+yang+zig&plugins=keep-markup */
      /**
       * prism.js default theme for JavaScript, CSS and HTML
       * Based on dabblet (http://dabblet.com)
       * @author Lea Verou
       */

      code[class*="language-"],
      pre[class*="language-"] {
        color: black;
        background: none;
        text-shadow: 0 1px white;
        font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
        font-size: 0.95em;
        text-align: left;
        white-space: pre;
        word-spacing: normal;
        word-break: normal;
        word-wrap: normal;
        line-height: 1.5;

        -moz-tab-size: 4;
        -o-tab-size: 4;
        tab-size: 4;

        -webkit-hyphens: none;
        -moz-hyphens: none;
        -ms-hyphens: none;
        hyphens: none;
      }

      pre[class*="language-"]::-moz-selection, pre[class*="language-"] ::-moz-selection,
      code[class*="language-"]::-moz-selection, code[class*="language-"] ::-moz-selection {
        text-shadow: none;
        background: #b3d4fc;
      }

      pre[class*="language-"]::selection, pre[class*="language-"] ::selection,
      code[class*="language-"]::selection, code[class*="language-"] ::selection {
        text-shadow: none;
        background: #b3d4fc;
      }

      @media print {
        code[class*="language-"],
        pre[class*="language-"] {
          text-shadow: none;
        }
      }

      /* Code blocks */
      pre[class*="language-"] {
        padding: 1em;
        margin: .5em 0;
        overflow: auto;
      }

      :not(pre) > code[class*="language-"],
      pre[class*="language-"] {
        background: #f5f2f0;
      }

      /* Inline code */
      :not(pre) > code[class*="language-"] {
        padding: .1em;
        border-radius: .3em;
        white-space: normal;
      }
    </style>
</head>
<body>
    <div xmlns="http://www.w3.org/1999/xhtml">
    <table class="grid dict">
        
            <tr>
                <th scope="row"><b>Title: </b></th>
                <td style="padding-left: 4px;">Follow-Up Care for Children Prescribed ADHD Medication (ADD)FHIR</td>
            </tr>
        

        

        
            <tr>
                <th scope="row"><b>Id: </b></th>
                <td style="padding-left: 4px;">FollowUpCareforChildrenPrescribedADHDMedicationADDFHIR</td>
            </tr>
        

        
            <tr>
                <th scope="row"><b>Version: </b></th>
                <td style="padding-left: 4px;">0.1.001</td>
            </tr>
        

        
            <tr>
                <th scope="row"><b>Url: </b></th>
                <td style="padding-left: 4px;">https://madie.cms.gov/Measure/FollowUpCareforChildrenPrescribedADHDMedicationADDFHIR</td>
            </tr>
        

        
            <tr>
                <th scope="row">
                    <b>
                        
                            
                                short-name identifier:
                            
                        
                    </b>
                </th>

                <td style="padding-left: 4px;">
                    
                        <p style="margin-bottom: 5px;">
                            <span>CMS136FHIR</span>
                        </p>
                    
                </td>
            </tr>
        
            <tr>
                <th scope="row">
                    <b>
                        
                            
                                version-independent identifier:
                            
                        
                    </b>
                </th>

                <td style="padding-left: 4px;">
                    
                        <p style="margin-bottom: 5px;">
                            <span>urn:uuid:fd12596b-b29b-4584-b592-defc57f1acd6</span>
                        </p>
                    
                </td>
            </tr>
        
            <tr>
                <th scope="row">
                    <b>
                        
                            
                                version-specific identifier:
                            
                        
                    </b>
                </th>

                <td style="padding-left: 4px;">
                    
                        <p style="margin-bottom: 5px;">
                            <span>urn:uuid:411373e0-d3b8-4b47-b908-ccbd2d76566a</span>
                        </p>
                    
                </td>
            </tr>
        
            <tr>
                <th scope="row">
                    <b>
                        
                            
                                publisher (CMS) identifier:
                            
                        
                    </b>
                </th>

                <td style="padding-left: 4px;">
                    
                        <p style="margin-bottom: 5px;">
                            <span>136FHIR</span>
                        </p>
                    
                </td>
            </tr>
        

        
            <tr>
                <th scope="row"><b>Effective Period: </b></th>
                <td style="padding-left: 4px;">2025-01-01
                    ..2025-12-31</td>
            </tr>
        

        
            <tr>
                <th scope="row"><b>Status: </b></th>
                <td style="padding-left: 4px;">draft</td>
            </tr>
        

        

        
            <tr>
                <th scope="row"><b>Date: </b></th>
                <td style="padding-left: 4px;">2024-05-16T14:29:53+00:00</td>
            </tr>
        

        
            <tr>
                <th scope="row"><b>Publisher: </b></th>
                <td style="padding-left: 4px;">National Committee for Quality Assurance</td>
            </tr>
        

        
        <tr>
            <th scope="row"><b>Author: </b></th>
            <td style="padding-left: 4px;">National Committee for Quality Assurance</td>
        </tr>
        

        

        
            <tr>
                <th scope="row"><b>Description: </b></th>
                <td style="padding-left: 4px;">Percentage of children 6-12 years of age and newly prescribed a medication for attention-deficit/hyperactivity disorder (ADHD) who had appropriate follow-up care. Two rates are reported.  
a. Percentage of children who had one follow-up visit with a practitioner with prescribing authority during the 30-Day Initiation Phase.
b. Percentage of children who remained on ADHD medication for at least 210 treatment days and who, in addition to the visit in the Initiation Phase, had at least two additional follow-up visits with a practitioner within 270 days (9 months) after the Initiation Phase ended.</td>
            </tr>
        

        

        

        

        

        

        
            <tr>
                <th scope="row"><b>Purpose: </b></th>
                <td style="padding-left: 4px;">UNKNOWN</td>
            </tr>
        

        
            <tr>
                <th scope="row"><b>Copyright: </b></th>
                <td style="padding-left: 4px;">This Physician Performance Measure (Measure) and related data specifications are owned and were developed by the National Committee for Quality Assurance (NCQA). NCQA is not responsible for any use of the Measure. NCQA makes no representations, warranties, or endorsement about the quality of any organization or physician that uses or reports performance measures and NCQA has no liability to anyone who relies on such measures or specifications. NCQA holds a copyright in the Measure. The Measure can be reproduced and distributed, without modification, for noncommercial purposes (e.g., use by healthcare providers in connection with their practices) without obtaining approval from NCQA. Commercial use is defined as the sale, licensing, or distribution of the Measure for commercial gain, or incorporation of the Measure into a product or service that is sold, licensed or distributed for commercial gain. All commercial uses or requests for modification must be approved by NCQA and are subject to a license at the discretion of NCQA. (C) 2012-2024 National Committee for Quality Assurance. All Rights Reserved.

Limited proprietary coding is contained in the Measure specifications for user convenience. Users of proprietary code sets should obtain all necessary licenses from the owners of the code sets. NCQA disclaims all liability for use or accuracy of any third-party codes contained in the specifications.

CPT(R) codes, descriptions and other data are copyright 2024. American Medical Association. All rights reserved. CPT is a trademark of the American Medical Association. Fee schedules, relative value units, conversion factors and/or related components are not assigned by the AMA, are not part of CPT, and the AMA is not recommending their use. The AMA does not directly or indirectly practice medicine or dispense medical services. The AMA assumes no liability for data contained or not contained herein. Applicable FARS/DFARS restrictions apply to government use.

Some measure specifications contain coding from LOINC(R) (http://loinc.org). The LOINC table, LOINC codes, LOINC panels and form file, LOINC linguistic variants file, LOINC/RSNA Radiology Playbook, and LOINC/IEEE Medical Device Code Mapping Table are copyright 2004-2024 Regenstrief Institute, Inc. and the Logical Observation Identifiers Names and Codes (LOINC) Committee, and are available at no cost under the license at http://loinc.org/terms-of-use.

This material contains SNOMED Clinical Terms(R) (SNOMED CT[R]) copyright 2004-2023 International Health Terminology Standards Development Organisation. 

ICD-10 copyright 2024 World Health Organization. All Rights Reserved.

Some measures use RxNorm, a standardized nomenclature and coding for clinical drugs and drug delivery devices, which is made publicly available courtesy of the U.S. National Library of Medicine (NLM), National Institutes of Health, Department of Health and Human Services. NLM is not responsible for the measures and does not endorse or recommend this or any other product.

“HL7” is the registered trademark of Health Level Seven International.</td>
            </tr>
        

        
            <tr>
                <th scope="row"><b>Disclaimer: </b></th>
                <td style="padding-left: 4px;">The performance Measure is not a clinical guideline and does not establish a standard of medical care, and has not been tested for all potential applications. THE MEASURE AND SPECIFICATIONS ARE PROVIDED &quot;AS IS&quot; WITHOUT WARRANTY OF ANY KIND.
 
Due to technical limitations, registered trademarks are indicated by (R) or [R] and unregistered trademarks are indicated by (TM) or [TM].</td>
            </tr>
        

        

        

        

        

        

        

        

        
        <tr>
            <th scope="row"><b>Rationale: </b></th>
            <td style="padding-left: 4px;">ADHD is one of the more common chronic conditions of childhood. Children with ADHD may experience significant functional problems, such as school difficulties; academic underachievement; troublesome relationships with family members and peers; and behavioral problems (AAP, 2019). Given the high prevalence of ADHD among school-aged children (11 percent), primary care clinicians will regularly encounter children with ADHD and should have a strategy for diagnosing and long-term management of this condition (Visser et al., 2014). Reports indicate that the use of ADHD medication among children rose 28 percent between 2007 and 2011 (Visser et al., 2014).

Practitioners can convey the efficacy of pharmacotherapy to their patients. American Academy of Pediatrics (AAP) guidelines recommend that once a child is stable, an office visit every three to six months allows assessment of learning and behavior (AAP, 2019). Follow-up appointments should be made at least monthly until the child’s symptoms have been stabilized (AACAP, 2007).

Providers have an opportunity to track medication use in patients and provide the appropriate follow-up care to monitor clinical symptoms and potential adverse events.</td>
        </tr>
        

        
        <tr>
            <th scope="row"><b>Clinical recommendation statement: </b></th>
            <td style="padding-left: 4px;">American Academy of Pediatrics Clinical Practice Guideline for the Diagnosis, Evaluation and Treatment of ADHD in Children and Adolescents (2019)
- Key Action Statement (KAS) 1: The pediatrician or other primary care clinicians (PCC) should initiate an evaluation for ADHD for any child or adolescent age 4 years to the 18th birthday who presents with academic or behavioral problems and symptoms of inattention, hyperactivity, or impulsivity. Grade B: Strong Recommendation
- KAS 4: ADHD is a chronic condition; therefore, the PCC should manage children and adolescents with ADHD in the same manner that they would children and youth with special health care needs, following the principles of the chronic care model and the medical home. Grade B: Strong Recommendation
- KAS 5b: For elementary and middle school-aged children (age 6 years to the 12th birthday) with ADHD, the PCC should prescribe FDA-approved medications for ADHD, along with parent training in behavior management (PTBM) and/or behavioral classroom intervention (preferably both PTBM and behavioral classroom interventions). Educational interventions and individualized instructional supports, including school environment, class placement, instructional placement, and behavioral supports, are a necessary part of any treatment plan and often include an Individualized Education Program (IEP) or a rehabilitation plan (504 plan). Grade A: Strong Recommendation
- KAS 6. “The PCC should titrate doses of medication for ADHD to achieve maximum benefit with tolerable side effects”. Grade B, strong recommendation

American Academy of Child and Adolescent Psychiatry (AACAP) Practice Parameter for the Assessment and Treatment of Children and Adolescents with ADHD (2007)
- Overall Guideline: The key to effective long-term management of the patient with ADHD is continuity of care with a clinician experienced in the treatment of ADHD. The frequency and duration of follow-up sessions should be individualized for each family and patient, depending on the severity of ADHD symptoms; the degree of comorbidity of other psychiatric illness; the response to treatment; and the degree of impairment in home, school, work, or peer-related activities. The clinician should establish an effective mechanism for receiving feedback from the family and other important informants in the patient's environment to be sure symptoms are well controlled and side effects are minimal. Although this parameter does not seek to set a formula for the method of follow-up, significant contact with the clinician should typically occur two to four times per year in cases of uncomplicated ADHD and up to weekly sessions at times of severe dysfunction or complications of treatment.
- Recommendation 6: A Well-Thought-Out and Comprehensive Treatment Plan Should Be Developed for the Patient With ADHD. The treatment plan should be reviewed regularly and modified if the patient's symptoms do not respond. Minimal Standard [MS]
- Recommendation 9. During a Psychopharmacological Intervention for ADHD, the Patient Should Be Monitored for Treatment-Emergent Side Effects. Minimal Standard [MS]
- Recommendation 12. Patients Should Be Assessed Periodically to Determine Whether There Is Continued Need for Treatment or If Symptoms Have Remitted. Treatment of ADHD Should Continue as Long as Symptoms Remain Present and Cause Impairment. Minimal Standard [MS]</td>
        </tr>
        

        

        
            <tr>
                <th scope="row"><b>Guidance (Usage): </b></th>
                <td style="padding-left: 4px;">This eCQM is a patient-based measure.

This FHIR-based measure has been derived from the QDM-based measure: CMS136v14.  

Please refer to the HL7 QI-Core Implementation Guide (http://hl7.org/fhir/us/qicore/STU4.1.1/) for more information on QI-Core and mapping recommendations from QDM to QI-Core 4.1.1 (http://hl7.org/fhir/us/qicore/STU4.1.1/qdm-to-qicore.html).</td>
            </tr>
        

        
            
                <tr>
                    <th scope="row"><b>Population Criteria: </b></th>
                    <td style="padding-left: 4px;">
                        
                            <table class="grid-dict">
                                
                                    <tr>
                                        <th><b>662125a30f0a9077c1d5b590</b></th>
                                    </tr>
                                
                                
                                    <tr>
                                        <td>Initial Population:</td>
                                        
                                            <td>Initial Population 1: Children 6-12 years of age as of the Intake Period who had an IPSD and who had a visit within 6 months prior to the IPSD including the IPSD. Children are removed if they had an acute inpatient stay with a principal diagnosis of mental, behavioral or neurodevelopmental disorder during the Initiation Phase.  </td>
                                        
                                    </tr>
                                
                                    <tr>
                                        <td>Denominator:</td>
                                        
                                            <td>Equals Initial Population</td>
                                        
                                    </tr>
                                
                                    <tr>
                                        <td>Denominator Exclusion:</td>
                                        
                                            <td>Exclude patients who are in hospice care for any part of the measurement period.

Exclude patients diagnosed with narcolepsy at any point in their history or during the measurement period.</td>
                                        
                                    </tr>
                                
                                    <tr>
                                        <td>Numerator:</td>
                                        
                                            <td>Numerator 1: Patients who had at least one visit with a practitioner with prescribing authority during the Initiation Phase.</td>
                                        
                                    </tr>
                                
                                
                            </table>
                        
                            <table class="grid-dict">
                                
                                    <tr>
                                        <th><b>662125a30f0a9077c1d5b591</b></th>
                                    </tr>
                                
                                
                                    <tr>
                                        <td>Initial Population:</td>
                                        
                                            <td>Initial Population 2: Children 6-12 years of age as of the Intake Period who had an IPSD and remained on the medication for at least 210 treatment days during the 301-day period, beginning on the IPSD through 300 days after the IPSD, and who had a visit within 6 months prior to the IPSD including the IPSD. Children are removed if they had an acute inpatient stay with a principal diagnosis of mental, behavioral or neurodevelopmental disorder during the Continuation and Maintenance Phase.</td>
                                        
                                    </tr>
                                
                                    <tr>
                                        <td>Denominator:</td>
                                        
                                            <td>Equals Initial Population</td>
                                        
                                    </tr>
                                
                                    <tr>
                                        <td>Denominator Exclusion:</td>
                                        
                                            <td>Exclude patients who are in hospice care for any part of the measurement period.

Exclude patients diagnosed with narcolepsy at any point in their history or during the measurement period.</td>
                                        
                                    </tr>
                                
                                    <tr>
                                        <td>Numerator:</td>
                                        
                                            <td>Numerator 2: Patients who had at least one visit with a practitioner with prescribing authority during the Initiation Phase, and at least two follow-up visits on different dates of service during the 31-300 days after the IPSD.</td>
                                        
                                    </tr>
                                
                                
                            </table>
                        
                    </td>
                </tr>
            
        

        

        

        

        
            <tr>
                <th scope="row"><b>Libraries: </b></th>
                <td style="padding-left: 4px;">
                    <table class="grid-dict">
                        
                            <tr>
                                <td>https://madie.cms.gov/Library/FollowUpCareforChildrenPrescribedADHDMedicationADDFHIR</td>
                            </tr>
                        
                    </table>
                </td>
            </tr>
        

        

        
            
                <tr>
                    <th scope="row"><b>Related Artifact Dependencies: </b></th>
                    <td style="padding-left: 4px;">
                        
                            <li>Library/Status|1.8.000</li>
                        
                            <li>Library/CQMCommon|2.2.000</li>
                        
                            <li>Library/QICoreCommon|2.1.000</li>
                        
                            <li>Library/FHIRHelpers|4.4.000</li>
                        
                            <li>Library/CumulativeMedicationDuration|4.1.000</li>
                        
                            <li>Library/Hospice|6.12.000</li>
                        
                            <li>http://www.nlm.nih.gov/research/umls/rxnorm</li>
                        
                            <li>http://terminology.hl7.org/CodeSystem/diagnosis-role</li>
                        
                            <li>http://snomed.info/sct</li>
                        
                            <li>http://terminology.hl7.org/CodeSystem/observation-category</li>
                        
                            <li>http://loinc.org</li>
                        
                            <li>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1001</li>
                        
                            <li>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1016</li>
                        
                            <li>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1024</li>
                        
                            <li>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1022</li>
                        
                            <li>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.1170</li>
                        
                            <li>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.1171</li>
                        
                            <li>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.1172</li>
                        
                            <li>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.1173</li>
                        
                            <li>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.1174</li>
                        
                            <li>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.1176</li>
                        
                            <li>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.196.11.1252</li>
                        
                            <li>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.666.5.307</li>
                        
                            <li>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.105.12.1203</li>
                        
                            <li>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1027</li>
                        
                            <li>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1054</li>
                        
                            <li>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1026</li>
                        
                            <li>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1055</li>
                        
                            <li>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.122.12.1003</li>
                        
                            <li>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1008</li>
                        
                            <li>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.1492</li>
                        
                            <li>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.1496</li>
                        
                            <li>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1080</li>
                        
                            <li>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1089</li>
                        
                            <li>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.1003</li>
                        
                            <li>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.1584</li>
                        
                            <li>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.1165</li>
                        
                            <li>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.114.12.1011</li>
                        
                    </td>
                </tr>
                <tr>
                    <th scope="row"><b>Parameters:</b></th>
                    <td style="padding-left: 4px;">
                        <table class="grid-dict">
                            <tr>
                                <th><b>name</b></th>
                                <th><b>use</b></th>
                                <th><b>min</b></th>
                                <th><b>max</b></th>
                                <th><b>type</b></th>
                            </tr>
                            
                                <tr>
                                    <td>Measurement Period</td>
                                    <td>in</td>
                                    <td>0</td>
                                    <td>1</td>
                                    <td>Period</td>
                                </tr>
                            
                                <tr>
                                    <td>ErrorLevel</td>
                                    <td>in</td>
                                    <td>0</td>
                                    <td>1</td>
                                    <td>string</td>
                                </tr>
                            
                                <tr>
                                    <td>Denominator 2</td>
                                    <td>out</td>
                                    <td>0</td>
                                    <td>1</td>
                                    <td>boolean</td>
                                </tr>
                            
                                <tr>
                                    <td>Numerator 1</td>
                                    <td>out</td>
                                    <td>0</td>
                                    <td>1</td>
                                    <td>boolean</td>
                                </tr>
                            
                                <tr>
                                    <td>Numerator 2</td>
                                    <td>out</td>
                                    <td>0</td>
                                    <td>1</td>
                                    <td>boolean</td>
                                </tr>
                            
                                <tr>
                                    <td>Initial Population 1</td>
                                    <td>out</td>
                                    <td>0</td>
                                    <td>1</td>
                                    <td>boolean</td>
                                </tr>
                            
                                <tr>
                                    <td>Initial Population 2</td>
                                    <td>out</td>
                                    <td>0</td>
                                    <td>1</td>
                                    <td>boolean</td>
                                </tr>
                            
                                <tr>
                                    <td>Denominator Exclusions</td>
                                    <td>out</td>
                                    <td>0</td>
                                    <td>1</td>
                                    <td>boolean</td>
                                </tr>
                            
                                <tr>
                                    <td>Denominator 1</td>
                                    <td>out</td>
                                    <td>0</td>
                                    <td>1</td>
                                    <td>boolean</td>
                                </tr>
                            
                        </table>
                    </td>
                </tr>

                <tr>
                    <th scope="row"><b>DataRequirements:</b></th>
                    <td style="padding-left: 4px;">
                        <table class="grid-dict">
                            <tr>
                                <th><b>Type</b></th>
                                <th><b>Elements</b></th>
                                <th><b>Valueset Name</b></th>
                                <th><b>Valueset</b></th>
                            </tr>
                            
                                <tr>
                                    <td>Patient(http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-patient)</td>
                                    <td>
                                        
                                            birthDate
                                        
                                            birthDate.value
                                        
                                    </td>
                                    <td>
                                        
                                    </td>
                                    <td></td>
                                </tr>
                            
                                <tr>
                                    <td>MedicationRequest(http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationrequest)</td>
                                    <td>
                                        
                                            medication
                                        
                                            status
                                        
                                            status.value
                                        
                                            intent
                                        
                                            intent.value
                                        
                                            dosageInstruction
                                        
                                            dispenseRequest
                                        
                                            dispenseRequest.expectedSupplyDuration
                                        
                                            dispenseRequest.quantity
                                        
                                            dispenseRequest.numberOfRepeatsAllowed
                                        
                                            dispenseRequest.numberOfRepeatsAllowed.value
                                        
                                            authoredOn
                                        
                                            authoredOn.value
                                        
                                            dispenseRequest.validityPeriod
                                        
                                            startDate
                                        
                                            period
                                        
                                    </td>
                                    <td>
                                        
                                            
                                                 Atomoxetine
                                            
                                        
                                    </td>
                                    <td>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.1170</td>
                                </tr>
                            
                                <tr>
                                    <td>MedicationRequest(http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationrequest)</td>
                                    <td>
                                        
                                            medication
                                        
                                            status
                                        
                                            status.value
                                        
                                            intent
                                        
                                            intent.value
                                        
                                            dosageInstruction
                                        
                                            dispenseRequest
                                        
                                            dispenseRequest.expectedSupplyDuration
                                        
                                            dispenseRequest.quantity
                                        
                                            dispenseRequest.numberOfRepeatsAllowed
                                        
                                            dispenseRequest.numberOfRepeatsAllowed.value
                                        
                                            authoredOn
                                        
                                            authoredOn.value
                                        
                                            dispenseRequest.validityPeriod
                                        
                                            startDate
                                        
                                            period
                                        
                                    </td>
                                    <td>
                                        
                                            
                                                 Clonidine
                                            
                                        
                                    </td>
                                    <td>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.1171</td>
                                </tr>
                            
                                <tr>
                                    <td>MedicationRequest(http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationrequest)</td>
                                    <td>
                                        
                                            medication
                                        
                                            status
                                        
                                            status.value
                                        
                                            intent
                                        
                                            intent.value
                                        
                                            dosageInstruction
                                        
                                            dispenseRequest
                                        
                                            dispenseRequest.expectedSupplyDuration
                                        
                                            dispenseRequest.quantity
                                        
                                            dispenseRequest.numberOfRepeatsAllowed
                                        
                                            dispenseRequest.numberOfRepeatsAllowed.value
                                        
                                            authoredOn
                                        
                                            authoredOn.value
                                        
                                            dispenseRequest.validityPeriod
                                        
                                            startDate
                                        
                                            period
                                        
                                    </td>
                                    <td>
                                        
                                            
                                                 Dexmethylphenidate
                                            
                                        
                                    </td>
                                    <td>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.1172</td>
                                </tr>
                            
                                <tr>
                                    <td>MedicationRequest(http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationrequest)</td>
                                    <td>
                                        
                                            medication
                                        
                                            status
                                        
                                            status.value
                                        
                                            intent
                                        
                                            intent.value
                                        
                                            dosageInstruction
                                        
                                            dispenseRequest
                                        
                                            dispenseRequest.expectedSupplyDuration
                                        
                                            dispenseRequest.quantity
                                        
                                            dispenseRequest.numberOfRepeatsAllowed
                                        
                                            dispenseRequest.numberOfRepeatsAllowed.value
                                        
                                            authoredOn
                                        
                                            authoredOn.value
                                        
                                            dispenseRequest.validityPeriod
                                        
                                            startDate
                                        
                                            period
                                        
                                    </td>
                                    <td>
                                        
                                            
                                                 Dextroamphetamine
                                            
                                        
                                    </td>
                                    <td>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.1173</td>
                                </tr>
                            
                                <tr>
                                    <td>MedicationRequest(http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationrequest)</td>
                                    <td>
                                        
                                            medication
                                        
                                            status
                                        
                                            status.value
                                        
                                            intent
                                        
                                            intent.value
                                        
                                            dosageInstruction
                                        
                                            dispenseRequest
                                        
                                            dispenseRequest.expectedSupplyDuration
                                        
                                            dispenseRequest.quantity
                                        
                                            dispenseRequest.numberOfRepeatsAllowed
                                        
                                            dispenseRequest.numberOfRepeatsAllowed.value
                                        
                                            authoredOn
                                        
                                            authoredOn.value
                                        
                                            dispenseRequest.validityPeriod
                                        
                                            startDate
                                        
                                            period
                                        
                                    </td>
                                    <td>
                                        
                                            
                                                 Lisdexamfetamine
                                            
                                        
                                    </td>
                                    <td>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.1174</td>
                                </tr>
                            
                                <tr>
                                    <td>MedicationRequest(http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationrequest)</td>
                                    <td>
                                        
                                            medication
                                        
                                            status
                                        
                                            status.value
                                        
                                            intent
                                        
                                            intent.value
                                        
                                            dosageInstruction
                                        
                                            dispenseRequest
                                        
                                            dispenseRequest.expectedSupplyDuration
                                        
                                            dispenseRequest.quantity
                                        
                                            dispenseRequest.numberOfRepeatsAllowed
                                        
                                            dispenseRequest.numberOfRepeatsAllowed.value
                                        
                                            authoredOn
                                        
                                            authoredOn.value
                                        
                                            dispenseRequest.validityPeriod
                                        
                                            startDate
                                        
                                            period
                                        
                                    </td>
                                    <td>
                                        
                                            
                                                 Methylphenidate
                                            
                                        
                                    </td>
                                    <td>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.1176</td>
                                </tr>
                            
                                <tr>
                                    <td>MedicationRequest(http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationrequest)</td>
                                    <td>
                                        
                                            medication
                                        
                                            status
                                        
                                            status.value
                                        
                                            intent
                                        
                                            intent.value
                                        
                                            dosageInstruction
                                        
                                            dispenseRequest
                                        
                                            dispenseRequest.expectedSupplyDuration
                                        
                                            dispenseRequest.quantity
                                        
                                            dispenseRequest.numberOfRepeatsAllowed
                                        
                                            dispenseRequest.numberOfRepeatsAllowed.value
                                        
                                            authoredOn
                                        
                                            authoredOn.value
                                        
                                            dispenseRequest.validityPeriod
                                        
                                            startDate
                                        
                                            period
                                        
                                    </td>
                                    <td>
                                        
                                            
                                                 Guanfacine Medications
                                            
                                        
                                    </td>
                                    <td>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.196.11.1252</td>
                                </tr>
                            
                                <tr>
                                    <td>MedicationRequest(http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationrequest)</td>
                                    <td>
                                        
                                            medication
                                        
                                            status
                                        
                                            status.value
                                        
                                            intent
                                        
                                            intent.value
                                        
                                            dosageInstruction
                                        
                                            dispenseRequest
                                        
                                            dispenseRequest.expectedSupplyDuration
                                        
                                            dispenseRequest.quantity
                                        
                                            dispenseRequest.numberOfRepeatsAllowed
                                        
                                            dispenseRequest.numberOfRepeatsAllowed.value
                                        
                                            authoredOn
                                        
                                            authoredOn.value
                                        
                                            dispenseRequest.validityPeriod
                                        
                                            startDate
                                        
                                            period
                                        
                                    </td>
                                    <td>
                                        
                                    </td>
                                    <td></td>
                                </tr>
                            
                                <tr>
                                    <td>MedicationRequest(http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationrequest)</td>
                                    <td>
                                        
                                            medication.reference
                                        
                                            status
                                        
                                            status.value
                                        
                                            intent
                                        
                                            intent.value
                                        
                                            dosageInstruction
                                        
                                            dispenseRequest
                                        
                                            dispenseRequest.expectedSupplyDuration
                                        
                                            dispenseRequest.quantity
                                        
                                            dispenseRequest.numberOfRepeatsAllowed
                                        
                                            dispenseRequest.numberOfRepeatsAllowed.value
                                        
                                            authoredOn
                                        
                                            authoredOn.value
                                        
                                            dispenseRequest.validityPeriod
                                        
                                            startDate
                                        
                                            period
                                        
                                    </td>
                                    <td>
                                        
                                    </td>
                                    <td></td>
                                </tr>
                            
                                <tr>
                                    <td>Medication(http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medication)</td>
                                    <td>
                                        
                                            id
                                        
                                    </td>
                                    <td>
                                        
                                    </td>
                                    <td></td>
                                </tr>
                            
                                <tr>
                                    <td>Encounter(http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter)</td>
                                    <td>
                                        
                                            type
                                        
                                            status
                                        
                                            status.value
                                        
                                            period
                                        
                                            rank
                                        
                                            rank.value
                                        
                                            use
                                        
                                            condition
                                        
                                            condition.reference
                                        
                                            condition.reference.value
                                        
                                    </td>
                                    <td>
                                        
                                            
                                                 Office Visit
                                            
                                        
                                    </td>
                                    <td>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1001</td>
                                </tr>
                            
                                <tr>
                                    <td>Encounter(http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter)</td>
                                    <td>
                                        
                                            type
                                        
                                            status
                                        
                                            status.value
                                        
                                            period
                                        
                                            rank
                                        
                                            rank.value
                                        
                                            use
                                        
                                            condition
                                        
                                            condition.reference
                                        
                                            condition.reference.value
                                        
                                    </td>
                                    <td>
                                        
                                            
                                                 Preventive Care Services Group Counseling
                                            
                                        
                                    </td>
                                    <td>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1027</td>
                                </tr>
                            
                                <tr>
                                    <td>Encounter(http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter)</td>
                                    <td>
                                        
                                            type
                                        
                                            status
                                        
                                            status.value
                                        
                                            period
                                        
                                            rank
                                        
                                            rank.value
                                        
                                            use
                                        
                                            condition
                                        
                                            condition.reference
                                        
                                            condition.reference.value
                                        
                                    </td>
                                    <td>
                                        
                                            
                                                 Behavioral Health Follow up Visit
                                            
                                        
                                    </td>
                                    <td>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1054</td>
                                </tr>
                            
                                <tr>
                                    <td>Encounter(http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter)</td>
                                    <td>
                                        
                                            type
                                        
                                            status
                                        
                                            status.value
                                        
                                            period
                                        
                                            rank
                                        
                                            rank.value
                                        
                                            use
                                        
                                            condition
                                        
                                            condition.reference
                                        
                                            condition.reference.value
                                        
                                    </td>
                                    <td>
                                        
                                            
                                                 Preventive Care Services Individual Counseling
                                            
                                        
                                    </td>
                                    <td>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1026</td>
                                </tr>
                            
                                <tr>
                                    <td>Encounter(http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter)</td>
                                    <td>
                                        
                                            type
                                        
                                            location
                                        
                                            status
                                        
                                            status.value
                                        
                                            period
                                        
                                            rank
                                        
                                            rank.value
                                        
                                            use
                                        
                                            condition
                                        
                                            condition.reference
                                        
                                            condition.reference.value
                                        
                                    </td>
                                    <td>
                                        
                                            
                                                 Psychotherapy and Pharmacologic Management
                                            
                                        
                                    </td>
                                    <td>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1055</td>
                                </tr>
                            
                                <tr>
                                    <td>Encounter(http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter)</td>
                                    <td>
                                        
                                            type
                                        
                                            status
                                        
                                            status.value
                                        
                                            period
                                        
                                            rank
                                        
                                            rank.value
                                        
                                            use
                                        
                                            condition
                                        
                                            condition.reference
                                        
                                            condition.reference.value
                                        
                                    </td>
                                    <td>
                                        
                                            
                                                 Outpatient Consultation
                                            
                                        
                                    </td>
                                    <td>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1008</td>
                                </tr>
                            
                                <tr>
                                    <td>Encounter(http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter)</td>
                                    <td>
                                        
                                            type
                                        
                                            status
                                        
                                            status.value
                                        
                                            period
                                        
                                            rank
                                        
                                            rank.value
                                        
                                            use
                                        
                                            condition
                                        
                                            condition.reference
                                        
                                            condition.reference.value
                                        
                                    </td>
                                    <td>
                                        
                                            
                                                 Home Healthcare Services
                                            
                                        
                                    </td>
                                    <td>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1016</td>
                                </tr>
                            
                                <tr>
                                    <td>Encounter(http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter)</td>
                                    <td>
                                        
                                            type
                                        
                                            status
                                        
                                            status.value
                                        
                                            period
                                        
                                            rank
                                        
                                            rank.value
                                        
                                            use
                                        
                                            condition
                                        
                                            condition.reference
                                        
                                            condition.reference.value
                                        
                                    </td>
                                    <td>
                                        
                                            
                                                 Preventive Care Services, Initial Office Visit, 0 to 17
                                            
                                        
                                    </td>
                                    <td>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1022</td>
                                </tr>
                            
                                <tr>
                                    <td>Encounter(http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter)</td>
                                    <td>
                                        
                                            type
                                        
                                            status
                                        
                                            status.value
                                        
                                            period
                                        
                                            rank
                                        
                                            rank.value
                                        
                                            use
                                        
                                            condition
                                        
                                            condition.reference
                                        
                                            condition.reference.value
                                        
                                    </td>
                                    <td>
                                        
                                            
                                                 Preventive Care, Established Office Visit, 0 to 17
                                            
                                        
                                    </td>
                                    <td>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1024</td>
                                </tr>
                            
                                <tr>
                                    <td>Encounter(http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter)</td>
                                    <td>
                                        
                                            type
                                        
                                            status
                                        
                                            status.value
                                        
                                            period
                                        
                                            rank
                                        
                                            rank.value
                                        
                                            use
                                        
                                            condition
                                        
                                            condition.reference
                                        
                                            condition.reference.value
                                        
                                    </td>
                                    <td>
                                        
                                            
                                                 Psych Visit Diagnostic Evaluation
                                            
                                        
                                    </td>
                                    <td>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.1492</td>
                                </tr>
                            
                                <tr>
                                    <td>Encounter(http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter)</td>
                                    <td>
                                        
                                            type
                                        
                                            status
                                        
                                            status.value
                                        
                                            period
                                        
                                            rank
                                        
                                            rank.value
                                        
                                            use
                                        
                                            condition
                                        
                                            condition.reference
                                        
                                            condition.reference.value
                                        
                                    </td>
                                    <td>
                                        
                                            
                                                 Psych Visit Psychotherapy
                                            
                                        
                                    </td>
                                    <td>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.1496</td>
                                </tr>
                            
                                <tr>
                                    <td>Encounter(http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter)</td>
                                    <td>
                                        
                                            type
                                        
                                            status
                                        
                                            status.value
                                        
                                            period
                                        
                                            rank
                                        
                                            rank.value
                                        
                                            use
                                        
                                            condition
                                        
                                            condition.reference
                                        
                                            condition.reference.value
                                        
                                    </td>
                                    <td>
                                        
                                            
                                                 Telephone Visits
                                            
                                        
                                    </td>
                                    <td>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1080</td>
                                </tr>
                            
                                <tr>
                                    <td>Encounter(http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter)</td>
                                    <td>
                                        
                                            type
                                        
                                            period
                                        
                                            status
                                        
                                            status.value
                                        
                                            rank
                                        
                                            rank.value
                                        
                                            use
                                        
                                            condition
                                        
                                            condition.reference
                                        
                                            condition.reference.value
                                        
                                    </td>
                                    <td>
                                        
                                            
                                                 Virtual Encounter
                                            
                                        
                                    </td>
                                    <td>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1089</td>
                                </tr>
                            
                                <tr>
                                    <td>Encounter(http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter)</td>
                                    <td>
                                        
                                            type
                                        
                                            status
                                        
                                            status.value
                                        
                                            period
                                        
                                            rank
                                        
                                            rank.value
                                        
                                            use
                                        
                                            condition
                                        
                                            condition.reference
                                        
                                            condition.reference.value
                                        
                                            hospitalization
                                        
                                            hospitalization.dischargeDisposition
                                        
                                    </td>
                                    <td>
                                        
                                            
                                                 Encounter Inpatient
                                            
                                        
                                    </td>
                                    <td>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.666.5.307</td>
                                </tr>
                            
                                <tr>
                                    <td>Encounter(http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter)</td>
                                    <td>
                                        
                                            type
                                        
                                            period
                                        
                                            status
                                        
                                            status.value
                                        
                                            rank
                                        
                                            rank.value
                                        
                                            use
                                        
                                            condition
                                        
                                            condition.reference
                                        
                                            condition.reference.value
                                        
                                    </td>
                                    <td>
                                        
                                            
                                                 Hospice Encounter
                                            
                                        
                                    </td>
                                    <td>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.1003</td>
                                </tr>
                            
                                <tr>
                                    <td>Condition(http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-condition)</td>
                                    <td>
                                        
                                            id
                                        
                                            id.value
                                        
                                            code
                                        
                                    </td>
                                    <td>
                                        
                                    </td>
                                    <td></td>
                                </tr>
                            
                                <tr>
                                    <td>Condition(http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-condition)</td>
                                    <td>
                                        
                                            code
                                        
                                    </td>
                                    <td>
                                        
                                            
                                                 Hospice Diagnosis
                                            
                                        
                                    </td>
                                    <td>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.1165</td>
                                </tr>
                            
                                <tr>
                                    <td>Condition(http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-condition)</td>
                                    <td>
                                        
                                            code
                                        
                                    </td>
                                    <td>
                                        
                                            
                                                 Narcolepsy
                                            
                                        
                                    </td>
                                    <td>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.114.12.1011</td>
                                </tr>
                            
                                <tr>
                                    <td>Location(http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-location)</td>
                                    <td>
                                        
                                            id
                                        
                                            id.value
                                        
                                    </td>
                                    <td>
                                        
                                    </td>
                                    <td></td>
                                </tr>
                            
                                <tr>
                                    <td>Observation(http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-observation)</td>
                                    <td>
                                        
                                            code
                                        
                                            value
                                        
                                            effective
                                        
                                            status
                                        
                                            status.value
                                        
                                            category
                                        
                                    </td>
                                    <td>
                                        
                                    </td>
                                    <td></td>
                                </tr>
                            
                                <tr>
                                    <td>ServiceRequest(http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-servicerequest)</td>
                                    <td>
                                        
                                            code
                                        
                                            authoredOn
                                        
                                            authoredOn.value
                                        
                                            status
                                        
                                            status.value
                                        
                                            intent
                                        
                                            intent.value
                                        
                                    </td>
                                    <td>
                                        
                                            
                                                 Hospice Care Ambulatory
                                            
                                        
                                    </td>
                                    <td>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.1584</td>
                                </tr>
                            
                                <tr>
                                    <td>Procedure(http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-procedure)</td>
                                    <td>
                                        
                                            code
                                        
                                            performed
                                        
                                            status
                                        
                                            status.value
                                        
                                    </td>
                                    <td>
                                        
                                            
                                                 Hospice Care Ambulatory
                                            
                                        
                                    </td>
                                    <td>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.1584</td>
                                </tr>
                            
                        </table>
                    </td>
                </tr>

                
                    <tr>
                        <th scope="row"><b>Direct Reference Codes:</b></th>
                        <td style="padding-left: 4px;">
                            <table class="grid-dict">
                                <tr>
                                    <th><b>display</b></th>
                                    <th><b>code</b></th>
                                    <th><b>system</b></th>
                                </tr>
                                
                                    <tr>
                                        <td>methamphetamine hydrochloride 5 MG Oral Tablet</td>
                                        <td>977860</td>
                                        <td>http://www.nlm.nih.gov/research/umls/rxnorm</td>
                                    </tr>
                                
                                    <tr>
                                        <td>Billing</td>
                                        <td>billing</td>
                                        <td>http://terminology.hl7.org/CodeSystem/diagnosis-role</td>
                                    </tr>
                                
                                    <tr>
                                        <td>Discharge to home for hospice care (procedure)</td>
                                        <td>428361000124107</td>
                                        <td>http://snomed.info/sct</td>
                                    </tr>
                                
                                    <tr>
                                        <td>Discharge to healthcare facility for hospice care (procedure)</td>
                                        <td>428371000124100</td>
                                        <td>http://snomed.info/sct</td>
                                    </tr>
                                
                                    <tr>
                                        <td>survey</td>
                                        <td>survey</td>
                                        <td>http://terminology.hl7.org/CodeSystem/observation-category</td>
                                    </tr>
                                
                                    <tr>
                                        <td>Hospice care [Minimum Data Set]</td>
                                        <td>45755-6</td>
                                        <td>http://loinc.org</td>
                                    </tr>
                                
                                    <tr>
                                        <td>Yes (qualifier value)</td>
                                        <td>373066001</td>
                                        <td>http://snomed.info/sct</td>
                                    </tr>
                                
                            </table>
                        </td>
                    </tr>
                

                
                <tr>
                    <th scope="row"><b>Logic Definitions:</b></th>
                    <td style="padding-left: 4px;">
                        
                        <table class="grid-dict">
                            <tr>
                                <th><b>Group</b></th>
                                <th><b>Scoring</b></th>
                                <th><b>Population Criteria</b></th>
                                <th><b>Expression</b></th>
                            </tr>
                            <tr>
                                
                                <td> 662125a30f0a9077c1d5b590 </td>
                                <td>
                                    
                                        <b>Group scoring:</b>
                                        
                                            <span>  proportion </span>
                                        
                                    

                                    

                                    

                                    

                                    

                                    

                                    
                                    <tr>
                                        <th scope="row"><b>Rate Aggregation: </b></th>
                                        <td colspan="3" style="padding-left: 4px;">None</td>
                                    </tr>
                                    

                                    
                                        <tr>
                                            <th scope="row"><b>Improvement Notation: </b></th>
                                            <td style="padding-left: 4px;">
                                            
                                                
                                                
                                            
                                            </td>
                                        </tr>
                                    

                                </td>
                                
                                <tr>
                                    <td/>
                                    <td/>
                                    <td>Initial Population</td>
                                    <td>
                                        
                                            <pre><code class="language-cql">define &quot;Initial Population 1&quot;:
  AgeInYearsAt(date from start of &quot;Intake Period&quot;) &gt;= 6
    and AgeInYearsAt(date from 
      end of &quot;Intake Period&quot;
    ) &lt;= 12
    and exists &quot;Qualifying Encounter&quot;
    and &quot;First ADHD Medication Prescribed During Intake Period&quot; is not null
    and not exists &quot;Inpatient Stay with Qualifying Diagnosis During Initiation Phase&quot;</code></pre>
                                        
                                    </td>
                                </tr>
                                
                                <tr>
                                    <td/>
                                    <td/>
                                    <td>Denominator</td>
                                    <td>
                                        
                                            <pre><code class="language-cql">define &quot;Denominator 1&quot;:
  &quot;Initial Population 1&quot;</code></pre>
                                        
                                    </td>
                                </tr>
                                
                                <tr>
                                    <td/>
                                    <td/>
                                    <td>Denominator Exclusion</td>
                                    <td>
                                        
                                            <pre><code class="language-cql">define &quot;Denominator Exclusions&quot;:
  Hospice.&quot;Has Hospice Services&quot;
    or exists ( &quot;Narcolepsy Exclusion&quot; )</code></pre>
                                        
                                    </td>
                                </tr>
                                
                                <tr>
                                    <td/>
                                    <td/>
                                    <td>Numerator</td>
                                    <td>
                                        
                                            <pre><code class="language-cql">define &quot;Numerator 1&quot;:
  exists ( &quot;Encounter During Initiation Phase&quot; )</code></pre>
                                        
                                    </td>
                                </tr>
                                
                                
                            
                                <td> 662125a30f0a9077c1d5b591 </td>
                                <td>
                                    
                                        <b>Group scoring:</b>
                                        
                                            <span>  proportion </span>
                                        
                                    

                                    

                                    

                                    

                                    

                                    

                                    
                                    <tr>
                                        <th scope="row"><b>Rate Aggregation: </b></th>
                                        <td colspan="3" style="padding-left: 4px;">None</td>
                                    </tr>
                                    

                                    
                                        <tr>
                                            <th scope="row"><b>Improvement Notation: </b></th>
                                            <td style="padding-left: 4px;">
                                            
                                                
                                                
                                            
                                            </td>
                                        </tr>
                                    

                                </td>
                                
                                <tr>
                                    <td/>
                                    <td/>
                                    <td>Initial Population</td>
                                    <td>
                                        
                                            <pre><code class="language-cql">define &quot;Initial Population 2&quot;:
  AgeInYearsAt(date from start of &quot;Intake Period&quot;) &gt;= 6
    and AgeInYearsAt(date from 
      end of &quot;Intake Period&quot;
    ) &lt;= 12
    and exists &quot;Qualifying Encounter&quot;
    and &quot;First ADHD Medication Prescribed During Intake Period&quot; is not null
    and &quot;Has ADHD Cumulative Medication Duration Greater Than or Equal to 210 Days&quot;
    and not exists &quot;Inpatient Stay with Qualifying Diagnosis During Continuation and Maintenance Phase&quot;</code></pre>
                                        
                                    </td>
                                </tr>
                                
                                <tr>
                                    <td/>
                                    <td/>
                                    <td>Denominator</td>
                                    <td>
                                        
                                            <pre><code class="language-cql">define &quot;Denominator 2&quot;:
  &quot;Initial Population 2&quot;</code></pre>
                                        
                                    </td>
                                </tr>
                                
                                <tr>
                                    <td/>
                                    <td/>
                                    <td>Denominator Exclusion</td>
                                    <td>
                                        
                                            <pre><code class="language-cql">define &quot;Denominator Exclusions&quot;:
  Hospice.&quot;Has Hospice Services&quot;
    or exists ( &quot;Narcolepsy Exclusion&quot; )</code></pre>
                                        
                                    </td>
                                </tr>
                                
                                <tr>
                                    <td/>
                                    <td/>
                                    <td>Numerator</td>
                                    <td>
                                        
                                            <pre><code class="language-cql">define &quot;Numerator 2&quot;:
  exists ( &quot;Encounter During Initiation Phase&quot; )
    and ( ( &quot;Two or More Encounters 31 to 300 Days into Continuation and Maintenance Phase&quot; )
        or ( exists ( &quot;Encounter 31 to 300 Days into Continuation and Maintenance Phase&quot; Encounter1
              with &quot;Virtual Encounter 31 to 300 Days into Continuation and Maintenance Phase&quot; Encounter2
                such that Encounter1 is not null
                  and Encounter2 is not null
                  and Encounter1 !~ Encounter2
          )
        )
    )</code></pre>
                                        
                                    </td>
                                </tr>
                                
                                
                            
                            </tr>
                        </table>
                

                <table class="grid-dict">
                    
                        <tr>
                            <th><b>Library Name</b></th>
                            <th><b>Name</b></th>
                        </tr>
                        <tr>
                            
                                <td>FollowUpCareforChildrenPrescribedADHDMedicationADDFHIR</td>
                            
                            
                                <td>March 1 of Year Prior to Measurement Period</td>
                            
                        </tr>
                        <tr>
                            
                                <td></td>
                                <td>
                                    <pre class="highlight language-cql"><code class="language-cql">define &quot;March 1 of Year Prior to Measurement Period&quot;:
  DateTime((year from start of &quot;Measurement Period&quot; - 1), 3, 1, 0, 0, 0, 0, 0)</code></pre>
                                </td>
                            
                        </tr>
                    
                        <tr>
                            <th><b>Library Name</b></th>
                            <th><b>Name</b></th>
                        </tr>
                        <tr>
                            
                                <td>FollowUpCareforChildrenPrescribedADHDMedicationADDFHIR</td>
                            
                            
                                <td>Last Calendar Day of February of Measurement Period</td>
                            
                        </tr>
                        <tr>
                            
                                <td></td>
                                <td>
                                    <pre class="highlight language-cql"><code class="language-cql">define &quot;Last Calendar Day of February of Measurement Period&quot;:
  ( DateTime(year from start of &quot;Measurement Period&quot;, 3, 1, 23, 59, 59, 0, 0) ) - 1 day</code></pre>
                                </td>
                            
                        </tr>
                    
                        <tr>
                            <th><b>Library Name</b></th>
                            <th><b>Name</b></th>
                        </tr>
                        <tr>
                            
                                <td>FollowUpCareforChildrenPrescribedADHDMedicationADDFHIR</td>
                            
                            
                                <td>Intake Period</td>
                            
                        </tr>
                        <tr>
                            
                                <td></td>
                                <td>
                                    <pre class="highlight language-cql"><code class="language-cql">define &quot;Intake Period&quot;:
  Interval[&quot;March 1 of Year Prior to Measurement Period&quot;, &quot;Last Calendar Day of February of Measurement Period&quot;]</code></pre>
                                </td>
                            
                        </tr>
                    
                        <tr>
                            <th><b>Library Name</b></th>
                            <th><b>Name</b></th>
                        </tr>
                        <tr>
                            
                                <td>FollowUpCareforChildrenPrescribedADHDMedicationADDFHIR</td>
                            
                            
                                <td>ADHD Medication Prescribed During Intake Period and Not Previously on ADHD Medication</td>
                            
                        </tr>
                        <tr>
                            
                                <td></td>
                                <td>
                                    <pre class="highlight language-cql"><code class="language-cql">define &quot;ADHD Medication Prescribed During Intake Period and Not Previously on ADHD Medication&quot;:
  ( ( ( ( [MedicationRequest: &quot;Atomoxetine&quot;]
      union [MedicationRequest: &quot;Clonidine&quot;]
      union [MedicationRequest: &quot;Dexmethylphenidate&quot;]
      union [MedicationRequest: &quot;Dextroamphetamine&quot;]
      union [MedicationRequest: &quot;Lisdexamfetamine&quot;]
      union [MedicationRequest: &quot;methamphetamine hydrochloride 5 MG Oral Tablet&quot;]
      union [MedicationRequest: &quot;Methylphenidate&quot;]
      union [MedicationRequest: &quot;Guanfacine Medications&quot;]
  ).isMedicationOrder ( ) ) ADHDMedications
    where ADHDMedications.medicationRequestPeriod ( ) starts during &quot;Intake Period&quot; ) ADHDMedicationOrder
    without ( ( [MedicationRequest: &quot;Atomoxetine&quot;]
        union [MedicationRequest: &quot;Clonidine&quot;]
        union [MedicationRequest: &quot;Dexmethylphenidate&quot;]
        union [MedicationRequest: &quot;Dextroamphetamine&quot;]
        union [MedicationRequest: &quot;Lisdexamfetamine&quot;]
        union [MedicationRequest: &quot;methamphetamine hydrochloride 5 MG Oral Tablet&quot;]
        union [MedicationRequest: &quot;Methylphenidate&quot;]
        union [MedicationRequest: &quot;Guanfacine Medications&quot;]
    ).isMedicationActive ( ) ) ActiveADHDMedication
      such that ActiveADHDMedication.medicationRequestPeriod ( ) overlaps Interval[date from start of ADHDMedicationOrder.medicationRequestPeriod ( ) - 120 days, date from start of ADHDMedicationOrder.medicationRequestPeriod ( ) ) ) QualifyingMed
    return all {
      startDate: start of QualifyingMed.medicationRequestPeriod ( )
    }
    sort by startDate asc</code></pre>
                                </td>
                            
                        </tr>
                    
                        <tr>
                            <th><b>Library Name</b></th>
                            <th><b>Name</b></th>
                        </tr>
                        <tr>
                            
                                <td>FollowUpCareforChildrenPrescribedADHDMedicationADDFHIR</td>
                            
                            
                                <td>First ADHD Medication Prescribed During Intake Period</td>
                            
                        </tr>
                        <tr>
                            
                                <td></td>
                                <td>
                                    <pre class="highlight language-cql"><code class="language-cql">define &quot;First ADHD Medication Prescribed During Intake Period&quot;:
  First(&quot;ADHD Medication Prescribed During Intake Period and Not Previously on ADHD Medication&quot;.startDate)</code></pre>
                                </td>
                            
                        </tr>
                    
                        <tr>
                            <th><b>Library Name</b></th>
                            <th><b>Name</b></th>
                        </tr>
                        <tr>
                            
                                <td>FollowUpCareforChildrenPrescribedADHDMedicationADDFHIR</td>
                            
                            
                                <td>IPSD</td>
                            
                        </tr>
                        <tr>
                            
                                <td></td>
                                <td>
                                    <pre class="highlight language-cql"><code class="language-cql">/*Index Prescription Start Date (IPSD)*/


define &quot;IPSD&quot;:
  &quot;First ADHD Medication Prescribed During Intake Period&quot;</code></pre>
                                </td>
                            
                        </tr>
                    
                        <tr>
                            <th><b>Library Name</b></th>
                            <th><b>Name</b></th>
                        </tr>
                        <tr>
                            
                                <td>FollowUpCareforChildrenPrescribedADHDMedicationADDFHIR</td>
                            
                            
                                <td>Qualifying Encounter</td>
                            
                        </tr>
                        <tr>
                            
                                <td></td>
                                <td>
                                    <pre class="highlight language-cql"><code class="language-cql">define &quot;Qualifying Encounter&quot;:
  ( ( [Encounter: &quot;Office Visit&quot;]
      union [Encounter: &quot;Home Healthcare Services&quot;]
      union [Encounter: &quot;Preventive Care, Established Office Visit, 0 to 17&quot;]
      union [Encounter: &quot;Preventive Care Services, Initial Office Visit, 0 to 17&quot;]
  ).isEncounterPerformed ( ) ) ValidEncounters
    where CQMCommon.&quot;ToDateInterval&quot; ( ValidEncounters.period.toInterval ( ) ) during day of Interval[&quot;IPSD&quot; - 6 months, &quot;IPSD&quot;]</code></pre>
                                </td>
                            
                        </tr>
                    
                        <tr>
                            <th><b>Library Name</b></th>
                            <th><b>Name</b></th>
                        </tr>
                        <tr>
                            
                                <td>FollowUpCareforChildrenPrescribedADHDMedicationADDFHIR</td>
                            
                            
                                <td>ADHD Medications Taken on IPSD or During Continuation and Maintenance Phase</td>
                            
                        </tr>
                        <tr>
                            
                                <td></td>
                                <td>
                                    <pre class="highlight language-cql"><code class="language-cql">define &quot;ADHD Medications Taken on IPSD or During Continuation and Maintenance Phase&quot;:
  ( ( ( ( ( ( [MedicationRequest: &quot;Atomoxetine&quot;] ).isMedicationOrder ( ) ) AtomoxetineMed
          return all {
            period: AtomoxetineMed.medicationRequestPeriod ( ),
            periodStart: start of AtomoxetineMed.medicationRequestPeriod ( )
          }
          sort by periodStart
      ).period
    ).rolloutIntervals ( )
  )
    union ( ( ( ( ( [MedicationRequest: &quot;Clonidine&quot;] ).isMedicationOrder ( ) ) ClonidineMed
            return all {
              period: ClonidineMed.medicationRequestPeriod ( ),
              periodStart: start of ClonidineMed.medicationRequestPeriod ( )
            }
            sort by periodStart
        ).period
      ).rolloutIntervals ( )
    )
    union ( ( ( ( ( [MedicationRequest: &quot;Dexmethylphenidate&quot;] ).isMedicationOrder ( ) ) DexmethylphenidateMed
            return all {
              period: DexmethylphenidateMed.medicationRequestPeriod ( ),
              periodStart: start of DexmethylphenidateMed.medicationRequestPeriod ( )
            }
            sort by periodStart
        ).period
      ).rolloutIntervals ( )
    )
    union ( ( ( ( ( [MedicationRequest: &quot;Dextroamphetamine&quot;] ).isMedicationOrder ( ) ) DextroamphetamineMed
            return all {
              period: DextroamphetamineMed.medicationRequestPeriod ( ),
              periodStart: start of DextroamphetamineMed.medicationRequestPeriod ( )
            }
            sort by periodStart
        ).period
      ).rolloutIntervals ( )
    )
    union ( ( ( ( ( [MedicationRequest: &quot;Lisdexamfetamine&quot;] ).isMedicationOrder ( ) ) LisdexamfetamineMed
            return all {
              period: LisdexamfetamineMed.medicationRequestPeriod ( ),
              periodStart: start of LisdexamfetamineMed.medicationRequestPeriod ( )
            }
            sort by periodStart
        ).period
      ).rolloutIntervals ( )
    )
    union ( ( ( ( ( [MedicationRequest: &quot;Methylphenidate&quot;] ).isMedicationOrder ( ) ) MethylphenidateMed
            return all {
              period: MethylphenidateMed.medicationRequestPeriod ( ),
              periodStart: start of MethylphenidateMed.medicationRequestPeriod ( )
            }
            sort by periodStart
        ).period
      ).rolloutIntervals ( )
    )
    union ( ( ( ( ( [MedicationRequest: &quot;Guanfacine Medications&quot;] ).isMedicationOrder ( ) ) GuanfacineMed
            return all {
              period: GuanfacineMed.medicationRequestPeriod ( ),
              periodStart: start of GuanfacineMed.medicationRequestPeriod ( )
            }
            sort by periodStart
        ).period
      ).rolloutIntervals ( )
    )
    union ( ( ( ( ( [MedicationRequest: &quot;methamphetamine hydrochloride 5 MG Oral Tablet&quot;] ).isMedicationOrder ( ) ) MethamphetamineMed
            return all {
              period: MethamphetamineMed.medicationRequestPeriod ( ),
              periodStart: start of MethamphetamineMed.medicationRequestPeriod ( )
            }
            sort by periodStart
        ).period
      ).rolloutIntervals ( )
    ) ) ADHDMedication
    let IPSDAndContinuationMaintenancePhase: Interval[&quot;IPSD&quot;, &quot;IPSD&quot; + 300 days]
    return all ADHDMedication
      intersect IPSDAndContinuationMaintenancePhase</code></pre>
                                </td>
                            
                        </tr>
                    
                        <tr>
                            <th><b>Library Name</b></th>
                            <th><b>Name</b></th>
                        </tr>
                        <tr>
                            
                                <td>FollowUpCareforChildrenPrescribedADHDMedicationADDFHIR</td>
                            
                            
                                <td>ADHD Cumulative Medication Duration</td>
                            
                        </tr>
                        <tr>
                            
                                <td></td>
                                <td>
                                    <pre class="highlight language-cql"><code class="language-cql">define &quot;ADHD Cumulative Medication Duration&quot;:
  ( &quot;ADHD Medications Taken on IPSD or During Continuation and Maintenance Phase&quot; ).cumulativeDuration ( )</code></pre>
                                </td>
                            
                        </tr>
                    
                        <tr>
                            <th><b>Library Name</b></th>
                            <th><b>Name</b></th>
                        </tr>
                        <tr>
                            
                                <td>FollowUpCareforChildrenPrescribedADHDMedicationADDFHIR</td>
                            
                            
                                <td>Has ADHD Cumulative Medication Duration Greater Than or Equal to 210 Days</td>
                            
                        </tr>
                        <tr>
                            
                                <td></td>
                                <td>
                                    <pre class="highlight language-cql"><code class="language-cql">define &quot;Has ADHD Cumulative Medication Duration Greater Than or Equal to 210 Days&quot;:
  &quot;ADHD Cumulative Medication Duration&quot; &gt;= 210</code></pre>
                                </td>
                            
                        </tr>
                    
                        <tr>
                            <th><b>Library Name</b></th>
                            <th><b>Name</b></th>
                        </tr>
                        <tr>
                            
                                <td>FollowUpCareforChildrenPrescribedADHDMedicationADDFHIR</td>
                            
                            
                                <td>Inpatient Stay with Qualifying Diagnosis</td>
                            
                        </tr>
                        <tr>
                            
                                <td></td>
                                <td>
                                    <pre class="highlight language-cql"><code class="language-cql">define &quot;Inpatient Stay with Qualifying Diagnosis&quot;:
  ( ( [Encounter: &quot;Encounter Inpatient&quot;] ).isEncounterPerformed ( ) ) InpatientStay
    where InpatientStay.principalDiagnosis ( ).code in &quot;Mental Behavioral and Neurodevelopmental Disorders&quot;</code></pre>
                                </td>
                            
                        </tr>
                    
                        <tr>
                            <th><b>Library Name</b></th>
                            <th><b>Name</b></th>
                        </tr>
                        <tr>
                            
                                <td>FollowUpCareforChildrenPrescribedADHDMedicationADDFHIR</td>
                            
                            
                                <td>Inpatient Stay with Qualifying Diagnosis During Continuation and Maintenance Phase</td>
                            
                        </tr>
                        <tr>
                            
                                <td></td>
                                <td>
                                    <pre class="highlight language-cql"><code class="language-cql">define &quot;Inpatient Stay with Qualifying Diagnosis During Continuation and Maintenance Phase&quot;:
  &quot;Inpatient Stay with Qualifying Diagnosis&quot; InpatientStay
    where CQMCommon.&quot;ToDateInterval&quot; ( InpatientStay.period.toInterval ( ) ) starts 300 days or less after day of &quot;IPSD&quot;</code></pre>
                                </td>
                            
                        </tr>
                    
                        <tr>
                            <th><b>Library Name</b></th>
                            <th><b>Name</b></th>
                        </tr>
                        <tr>
                            
                                <td>FollowUpCareforChildrenPrescribedADHDMedicationADDFHIR</td>
                            
                            
                                <td>Initial Population 2</td>
                            
                        </tr>
                        <tr>
                            
                                <td></td>
                                <td>
                                    <pre class="highlight language-cql"><code class="language-cql">define &quot;Initial Population 2&quot;:
  AgeInYearsAt(date from start of &quot;Intake Period&quot;) &gt;= 6
    and AgeInYearsAt(date from 
      end of &quot;Intake Period&quot;
    ) &lt;= 12
    and exists &quot;Qualifying Encounter&quot;
    and &quot;First ADHD Medication Prescribed During Intake Period&quot; is not null
    and &quot;Has ADHD Cumulative Medication Duration Greater Than or Equal to 210 Days&quot;
    and not exists &quot;Inpatient Stay with Qualifying Diagnosis During Continuation and Maintenance Phase&quot;</code></pre>
                                </td>
                            
                        </tr>
                    
                        <tr>
                            <th><b>Library Name</b></th>
                            <th><b>Name</b></th>
                        </tr>
                        <tr>
                            
                                <td>FollowUpCareforChildrenPrescribedADHDMedicationADDFHIR</td>
                            
                            
                                <td>Denominator 2</td>
                            
                        </tr>
                        <tr>
                            
                                <td></td>
                                <td>
                                    <pre class="highlight language-cql"><code class="language-cql">define &quot;Denominator 2&quot;:
  &quot;Initial Population 2&quot;</code></pre>
                                </td>
                            
                        </tr>
                    
                        <tr>
                            <th><b>Library Name</b></th>
                            <th><b>Name</b></th>
                        </tr>
                        <tr>
                            
                                <td>FollowUpCareforChildrenPrescribedADHDMedicationADDFHIR</td>
                            
                            
                                <td>Qualifying Numerator Encounter</td>
                            
                        </tr>
                        <tr>
                            
                                <td></td>
                                <td>
                                    <pre class="highlight language-cql"><code class="language-cql">define &quot;Qualifying Numerator Encounter&quot;:
  ( [Encounter: &quot;Office Visit&quot;]
      union [Encounter: &quot;Preventive Care Services Group Counseling&quot;]
      union [Encounter: &quot;Behavioral Health Follow up Visit&quot;]
      union [Encounter: &quot;Preventive Care Services Individual Counseling&quot;]
      union ( [Encounter: &quot;Psychotherapy and Pharmacologic Management&quot;] PsychPharmManagement
          where exists ( PsychPharmManagement.location Location
              where CQMCommon.&quot;GetLocation&quot; ( Location.location ).type in &quot;Ambulatory&quot;
          )
      )
      union [Encounter: &quot;Outpatient Consultation&quot;]
      union [Encounter: &quot;Home Healthcare Services&quot;]
      union [Encounter: &quot;Preventive Care Services, Initial Office Visit, 0 to 17&quot;]
      union [Encounter: &quot;Preventive Care, Established Office Visit, 0 to 17&quot;]
      union [Encounter: &quot;Psych Visit Diagnostic Evaluation&quot;]
      union [Encounter: &quot;Psych Visit Psychotherapy&quot;]
      union [Encounter: &quot;Telephone Visits&quot;]
  )</code></pre>
                                </td>
                            
                        </tr>
                    
                        <tr>
                            <th><b>Library Name</b></th>
                            <th><b>Name</b></th>
                        </tr>
                        <tr>
                            
                                <td>FollowUpCareforChildrenPrescribedADHDMedicationADDFHIR</td>
                            
                            
                                <td>Encounter During Initiation Phase</td>
                            
                        </tr>
                        <tr>
                            
                                <td></td>
                                <td>
                                    <pre class="highlight language-cql"><code class="language-cql">define &quot;Encounter During Initiation Phase&quot;:
  ( &quot;Qualifying Numerator Encounter&quot;.isEncounterPerformed ( ) ) ValidNumeratorEncounter
    where CQMCommon.&quot;ToDateInterval&quot; ( ValidNumeratorEncounter.period.toInterval ( ) ) starts 30 days or less after day of &quot;IPSD&quot;</code></pre>
                                </td>
                            
                        </tr>
                    
                        <tr>
                            <th><b>Library Name</b></th>
                            <th><b>Name</b></th>
                        </tr>
                        <tr>
                            
                                <td>FollowUpCareforChildrenPrescribedADHDMedicationADDFHIR</td>
                            
                            
                                <td>Numerator 1</td>
                            
                        </tr>
                        <tr>
                            
                                <td></td>
                                <td>
                                    <pre class="highlight language-cql"><code class="language-cql">define &quot;Numerator 1&quot;:
  exists ( &quot;Encounter During Initiation Phase&quot; )</code></pre>
                                </td>
                            
                        </tr>
                    
                        <tr>
                            <th><b>Library Name</b></th>
                            <th><b>Name</b></th>
                        </tr>
                        <tr>
                            
                                <td>FollowUpCareforChildrenPrescribedADHDMedicationADDFHIR</td>
                            
                            
                                <td>Encounter 31 to 300 Days into Continuation and Maintenance Phase</td>
                            
                        </tr>
                        <tr>
                            
                                <td></td>
                                <td>
                                    <pre class="highlight language-cql"><code class="language-cql">define &quot;Encounter 31 to 300 Days into Continuation and Maintenance Phase&quot;:
  ( &quot;Qualifying Numerator Encounter&quot;.isEncounterPerformed ( ) ) ValidNumeratorEncounter
    where CQMCommon.&quot;ToDateInterval&quot; ( ValidNumeratorEncounter.period.toInterval ( ) ) starts during day of Interval[&quot;IPSD&quot; + 31 days, &quot;IPSD&quot; + 300 days]
    return date from start of ValidNumeratorEncounter.period</code></pre>
                                </td>
                            
                        </tr>
                    
                        <tr>
                            <th><b>Library Name</b></th>
                            <th><b>Name</b></th>
                        </tr>
                        <tr>
                            
                                <td>FollowUpCareforChildrenPrescribedADHDMedicationADDFHIR</td>
                            
                            
                                <td>Two or More Encounters 31 to 300 Days into Continuation and Maintenance Phase</td>
                            
                        </tr>
                        <tr>
                            
                                <td></td>
                                <td>
                                    <pre class="highlight language-cql"><code class="language-cql">define &quot;Two or More Encounters 31 to 300 Days into Continuation and Maintenance Phase&quot;:
  Count(&quot;Encounter 31 to 300 Days into Continuation and Maintenance Phase&quot;) &gt;= 2</code></pre>
                                </td>
                            
                        </tr>
                    
                        <tr>
                            <th><b>Library Name</b></th>
                            <th><b>Name</b></th>
                        </tr>
                        <tr>
                            
                                <td>FollowUpCareforChildrenPrescribedADHDMedicationADDFHIR</td>
                            
                            
                                <td>Virtual Encounter 31 to 300 Days into Continuation and Maintenance Phase</td>
                            
                        </tr>
                        <tr>
                            
                                <td></td>
                                <td>
                                    <pre class="highlight language-cql"><code class="language-cql">define &quot;Virtual Encounter 31 to 300 Days into Continuation and Maintenance Phase&quot;:
  ( ( [Encounter: &quot;Virtual Encounter&quot;] ).isEncounterPerformed ( ) ) VirtualEnc
    where CQMCommon.&quot;ToDateInterval&quot; ( VirtualEnc.period.toInterval ( ) ) starts during day of Interval[&quot;IPSD&quot; + 31 days, &quot;IPSD&quot; + 300 days]
    return date from start of VirtualEnc.period</code></pre>
                                </td>
                            
                        </tr>
                    
                        <tr>
                            <th><b>Library Name</b></th>
                            <th><b>Name</b></th>
                        </tr>
                        <tr>
                            
                                <td>FollowUpCareforChildrenPrescribedADHDMedicationADDFHIR</td>
                            
                            
                                <td>Numerator 2</td>
                            
                        </tr>
                        <tr>
                            
                                <td></td>
                                <td>
                                    <pre class="highlight language-cql"><code class="language-cql">define &quot;Numerator 2&quot;:
  exists ( &quot;Encounter During Initiation Phase&quot; )
    and ( ( &quot;Two or More Encounters 31 to 300 Days into Continuation and Maintenance Phase&quot; )
        or ( exists ( &quot;Encounter 31 to 300 Days into Continuation and Maintenance Phase&quot; Encounter1
              with &quot;Virtual Encounter 31 to 300 Days into Continuation and Maintenance Phase&quot; Encounter2
                such that Encounter1 is not null
                  and Encounter2 is not null
                  and Encounter1 !~ Encounter2
          )
        )
    )</code></pre>
                                </td>
                            
                        </tr>
                    
                        <tr>
                            <th><b>Library Name</b></th>
                            <th><b>Name</b></th>
                        </tr>
                        <tr>
                            
                                <td>FollowUpCareforChildrenPrescribedADHDMedicationADDFHIR</td>
                            
                            
                                <td>Inpatient Stay with Qualifying Diagnosis During Initiation Phase</td>
                            
                        </tr>
                        <tr>
                            
                                <td></td>
                                <td>
                                    <pre class="highlight language-cql"><code class="language-cql">define &quot;Inpatient Stay with Qualifying Diagnosis During Initiation Phase&quot;:
  &quot;Inpatient Stay with Qualifying Diagnosis&quot; InpatientStay
    where CQMCommon.&quot;ToDateInterval&quot; ( InpatientStay.period.toInterval ( ) ) starts 30 days or less after day of &quot;IPSD&quot;</code></pre>
                                </td>
                            
                        </tr>
                    
                        <tr>
                            <th><b>Library Name</b></th>
                            <th><b>Name</b></th>
                        </tr>
                        <tr>
                            
                                <td>FollowUpCareforChildrenPrescribedADHDMedicationADDFHIR</td>
                            
                            
                                <td>Initial Population 1</td>
                            
                        </tr>
                        <tr>
                            
                                <td></td>
                                <td>
                                    <pre class="highlight language-cql"><code class="language-cql">define &quot;Initial Population 1&quot;:
  AgeInYearsAt(date from start of &quot;Intake Period&quot;) &gt;= 6
    and AgeInYearsAt(date from 
      end of &quot;Intake Period&quot;
    ) &lt;= 12
    and exists &quot;Qualifying Encounter&quot;
    and &quot;First ADHD Medication Prescribed During Intake Period&quot; is not null
    and not exists &quot;Inpatient Stay with Qualifying Diagnosis During Initiation Phase&quot;</code></pre>
                                </td>
                            
                        </tr>
                    
                        <tr>
                            <th><b>Library Name</b></th>
                            <th><b>Name</b></th>
                        </tr>
                        <tr>
                            
                                <td>Hospice</td>
                            
                            
                                <td>Has Hospice Services</td>
                            
                        </tr>
                        <tr>
                            
                                <td></td>
                                <td>
                                    <pre class="highlight language-cql"><code class="language-cql">define &quot;Has Hospice Services&quot;:
  exists ((([Encounter: &quot;Encounter Inpatient&quot;]).isEncounterPerformed()) InpatientEncounter
      where (InpatientEncounter.hospitalization.dischargeDisposition ~ &quot;Discharge to home for hospice care (procedure)&quot;
          or InpatientEncounter.hospitalization.dischargeDisposition ~ &quot;Discharge to healthcare facility for hospice care (procedure)&quot;
      )
        and InpatientEncounter.period.toInterval() ends during day of &quot;Measurement Period&quot;
  )
    or exists ((([Encounter: &quot;Hospice Encounter&quot;]).isEncounterPerformed()) HospiceEncounter
        where HospiceEncounter.period.toInterval() overlaps day of &quot;Measurement Period&quot;
    )
    or exists ((([Observation: &quot;Hospice care [Minimum Data Set]&quot;]).isAssessmentPerformed()) HospiceAssessment
        where HospiceAssessment.value ~ &quot;Yes (qualifier value)&quot;
          and HospiceAssessment.effective.toInterval() overlaps day of &quot;Measurement Period&quot;
    )
    or exists ((([ServiceRequest: &quot;Hospice Care Ambulatory&quot;]).isInterventionOrder()) HospiceOrder
        where HospiceOrder.authoredOn.toInterval() during day of &quot;Measurement Period&quot;
        // and HospiceOrder.doNotPerform is not true
        // https://oncprojectracking.healthit.gov/support/browse/CQLIT-447
    )
    or exists ((([Procedure: &quot;Hospice Care Ambulatory&quot;]).isInterventionPerformed()) HospicePerformed
        where HospicePerformed.performed.toInterval() overlaps day of &quot;Measurement Period&quot;
    )
    or exists (([Condition: &quot;Hospice Diagnosis&quot;]) HospiceCareDiagnosis
        where HospiceCareDiagnosis.prevalenceInterval() overlaps day of &quot;Measurement Period&quot;
    )</code></pre>
                                </td>
                            
                        </tr>
                    
                        <tr>
                            <th><b>Library Name</b></th>
                            <th><b>Name</b></th>
                        </tr>
                        <tr>
                            
                                <td>FollowUpCareforChildrenPrescribedADHDMedicationADDFHIR</td>
                            
                            
                                <td>Narcolepsy Exclusion</td>
                            
                        </tr>
                        <tr>
                            
                                <td></td>
                                <td>
                                    <pre class="highlight language-cql"><code class="language-cql">define &quot;Narcolepsy Exclusion&quot;:
  [Condition: &quot;Narcolepsy&quot;] Narcolepsy
    where Narcolepsy.prevalenceInterval ( ) starts on or before end of &quot;Measurement Period&quot;</code></pre>
                                </td>
                            
                        </tr>
                    
                        <tr>
                            <th><b>Library Name</b></th>
                            <th><b>Name</b></th>
                        </tr>
                        <tr>
                            
                                <td>FollowUpCareforChildrenPrescribedADHDMedicationADDFHIR</td>
                            
                            
                                <td>Denominator Exclusions</td>
                            
                        </tr>
                        <tr>
                            
                                <td></td>
                                <td>
                                    <pre class="highlight language-cql"><code class="language-cql">define &quot;Denominator Exclusions&quot;:
  Hospice.&quot;Has Hospice Services&quot;
    or exists ( &quot;Narcolepsy Exclusion&quot; )</code></pre>
                                </td>
                            
                        </tr>
                    
                        <tr>
                            <th><b>Library Name</b></th>
                            <th><b>Name</b></th>
                        </tr>
                        <tr>
                            
                                <td>FollowUpCareforChildrenPrescribedADHDMedicationADDFHIR</td>
                            
                            
                                <td>Denominator 1</td>
                            
                        </tr>
                        <tr>
                            
                                <td></td>
                                <td>
                                    <pre class="highlight language-cql"><code class="language-cql">define &quot;Denominator 1&quot;:
  &quot;Initial Population 1&quot;</code></pre>
                                </td>
                            
                        </tr>
                    
                        <tr>
                            <th><b>Library Name</b></th>
                            <th><b>Name</b></th>
                        </tr>
                        <tr>
                            
                                <td>Status</td>
                            
                            
                                <td>isEncounterPerformed</td>
                            
                        </tr>
                        <tr>
                            
                                <td></td>
                                <td>
                                    <pre class="highlight language-cql"><code class="language-cql">//Encounter, Performed
//General usage unless required otherwise by measure intent (e.g., follow-up encounters)
define fluent function isEncounterPerformed(Enc List&lt;Encounter&gt;):
  Enc E
    where E.status in {'finished', 'arrived', 'triaged', 'in-progress', 'onleave'}</code></pre>
                                </td>
                            
                        </tr>
                    
                        <tr>
                            <th><b>Library Name</b></th>
                            <th><b>Name</b></th>
                        </tr>
                        <tr>
                            
                                <td>CQMCommon</td>
                            
                            
                                <td>ToDateInterval</td>
                            
                        </tr>
                        <tr>
                            
                                <td></td>
                                <td>
                                    <pre class="highlight language-cql"><code class="language-cql">/*
@description: Returns an interval of date values extracted from the input interval of date-time values
@comment: This function returns an interval constructed using the `date from` extractor on the start
and end values of the input date-time interval. Note that using a precision specifier such as `day of`
as part of a timing phrase is preferred to communicate intent to perform day-level comparison, as well
as for general readability.
*/
define function &quot;ToDateInterval&quot;(period Interval&lt;DateTime&gt;):
  Interval[date from start of period, date from end of period]</code></pre>
                                </td>
                            
                        </tr>
                    
                        <tr>
                            <th><b>Library Name</b></th>
                            <th><b>Name</b></th>
                        </tr>
                        <tr>
                            
                                <td>QICoreCommon</td>
                            
                            
                                <td>toInterval</td>
                            
                        </tr>
                        <tr>
                            
                                <td></td>
                                <td>
                                    <pre class="highlight language-cql"><code class="language-cql">/*
@description: Normalizes a value that is a choice of timing-valued types to an equivalent interval
@comment: Normalizes a choice type of DateTime, Quanitty, Interval&lt;DateTime&gt;, or Interval&lt;Quantity&gt; types
to an equivalent interval. This selection of choice types is a superset of the majority of choice types that are used as possible
representations for timing-valued elements in QICore, allowing this function to be used across any resource.
The input can be provided as a DateTime, Quantity, Interval&lt;DateTime&gt; or Interval&lt;Quantity&gt;.
The intent of this function is to provide a clear and concise mechanism to treat single
elements that have multiple possible representations as intervals so that logic doesn't have to account
for the variability. More complex calculations (such as medication request period or dispense period
calculation) need specific guidance and consideration. That guidance may make use of this function, but
the focus of this function is on single element calculations where the semantics are unambiguous.
If the input is a DateTime, the result a DateTime Interval beginning and ending on that DateTime.
If the input is a Quantity, the quantity is expected to be a calendar-duration interpreted as an Age,
and the result is a DateTime Interval beginning on the Date the patient turned that age and ending immediately before one year later.
If the input is a DateTime Interval, the result is the input.
If the input is a Quantity Interval, the quantities are expected to be calendar-durations interpreted as an Age, and the result
is a DateTime Interval beginning on the date the patient turned the age given as the start of the quantity interval, and ending
immediately before one year later than the date the patient turned the age given as the end of the quantity interval.
If the input is a Timing, an error will be thrown indicating that Timing calculations are not implemented. Any other input will reslt in a null DateTime Interval
*/
define fluent function toInterval(choice Choice&lt;DateTime, Quantity, Interval&lt;DateTime&gt;, Interval&lt;Quantity&gt;, Timing&gt;):
  case
	  when choice is DateTime then
    	Interval[choice as DateTime, choice as DateTime]
		when choice is Interval&lt;DateTime&gt; then
  		choice as Interval&lt;DateTime&gt;
		when choice is Quantity then
		  Interval[Patient.birthDate + (choice as Quantity),
			  Patient.birthDate + (choice as Quantity) + 1 year)
		when choice is Interval&lt;Quantity&gt; then
		  Interval[Patient.birthDate + (choice.low as Quantity),
			  Patient.birthDate + (choice.high as Quantity) + 1 year)
		when choice is Timing then
      Message(null, true, 'NOT_IMPLEMENTED', 'Error', 'Calculation of an interval from a Timing value is not supported') as Interval&lt;DateTime&gt;
		else
			null as Interval&lt;DateTime&gt;
	end</code></pre>
                                </td>
                            
                        </tr>
                    
                        <tr>
                            <th><b>Library Name</b></th>
                            <th><b>Name</b></th>
                        </tr>
                        <tr>
                            
                                <td>Status</td>
                            
                            
                                <td>isMedicationOrder</td>
                            
                        </tr>
                        <tr>
                            
                                <td></td>
                                <td>
                                    <pre class="highlight language-cql"><code class="language-cql">//Medication, Order: active and completed only
define fluent function isMedicationOrder(MedicationRequest List&lt;MedicationRequest&gt;):
  MedicationRequest M
    where M.status in { 'active', 'completed' }
      and M.intent = 'order'</code></pre>
                                </td>
                            
                        </tr>
                    
                        <tr>
                            <th><b>Library Name</b></th>
                            <th><b>Name</b></th>
                        </tr>
                        <tr>
                            
                                <td>CumulativeMedicationDuration</td>
                            
                            
                                <td>medicationRequestPeriod</td>
                            
                        </tr>
                        <tr>
                            
                                <td></td>
                                <td>
                                    <pre class="highlight language-cql"><code class="language-cql">define fluent function medicationRequestPeriod(Request &quot;MedicationRequest&quot;):
  Request R
    let
      dosage: singleton from R.dosageInstruction,
      doseAndRate: singleton from dosage.doseAndRate,
      timing: dosage.timing,
      frequency: Coalesce(timing.repeat.frequencyMax, timing.repeat.frequency),
      period: Quantity(timing.repeat.period, timing.repeat.periodUnit),
      doseRange: doseAndRate.dose,
      doseQuantity: doseAndRate.dose,
      dose: Coalesce(end of doseRange, doseQuantity),
      dosesPerDay: Coalesce(ToDaily(frequency, period), Count(timing.repeat.timeOfDay), 1.0),
      boundsPeriod: timing.repeat.bounds as Interval&lt;DateTime&gt;,
      daysSupply: (convert R.dispenseRequest.expectedSupplyDuration to days).value,
      quantity: R.dispenseRequest.quantity,
      refills: Coalesce(R.dispenseRequest.numberOfRepeatsAllowed, 0),
      startDate:
        Coalesce(
          date from start of boundsPeriod,
          date from R.authoredOn,
          date from start of R.dispenseRequest.validityPeriod
        ),
      totalDaysSupplied: Coalesce(daysSupply, quantity.value / (dose.value * dosesPerDay)) * (1 + refills)
    return
      if startDate is not null and totalDaysSupplied is not null then
        Interval[startDate, startDate + Quantity(totalDaysSupplied - 1, 'day') ]
      else if startDate is not null and boundsPeriod.&quot;high&quot; is not null then
        Interval[startDate, date from end of boundsPeriod]
      else
        null</code></pre>
                                </td>
                            
                        </tr>
                    
                        <tr>
                            <th><b>Library Name</b></th>
                            <th><b>Name</b></th>
                        </tr>
                        <tr>
                            
                                <td>CumulativeMedicationDuration</td>
                            
                            
                                <td>Quantity</td>
                            
                        </tr>
                        <tr>
                            
                                <td></td>
                                <td>
                                    <pre class="highlight language-cql"><code class="language-cql">/**********************************************************************/
/* Functions in this region are copied from opioid-mme-r4             */
/**********************************************************************/

define function Quantity(value Decimal, unit String):
  if value is not null then
    System.Quantity { value: value, unit: unit }
  else
    null</code></pre>
                                </td>
                            
                        </tr>
                    
                        <tr>
                            <th><b>Library Name</b></th>
                            <th><b>Name</b></th>
                        </tr>
                        <tr>
                            
                                <td>CumulativeMedicationDuration</td>
                            
                            
                                <td>ToDaily</td>
                            
                        </tr>
                        <tr>
                            
                                <td></td>
                                <td>
                                    <pre class="highlight language-cql"><code class="language-cql">/*
 Goal is to get to number of days
 Two broad approaches to the calculation:
  1) Based on supply and frequency, calculate the number of expected days the medication will cover/has covered
  2) Based on relevant period, determine a covered interval and calculate the length of that interval in days
This topic covers several use cases and illustrates how to calculate Cumulative
Medication Duration for each type of medication resource using the supply and
frequency approach.
*/

/*
  For the first approach, we need to get from frequency to a frequency/day
  So we define ToDaily
*/

/*
  Calculates daily frequency given frequency within a period
*/
define function ToDaily(frequency System.Integer, period System.Quantity):
  case period.unit
    when 'h' then frequency * (24.0 / period.value)
    when 'min' then frequency * (24.0 / period.value) * 60
    when 's' then frequency * (24.0 / period.value) * 60 * 60
    when 'd' then frequency * (24.0 / period.value) / 24
    when 'wk' then frequency * (24.0 / period.value) / (24 * 7)
    when 'mo' then frequency * (24.0 / period.value) / (24 * 30) /* assuming 30 days in month */
    when 'a' then frequency * (24.0 / period.value) / (24 * 365) /* assuming 365 days in year */
    when 'hour' then frequency * (24.0 / period.value)
    when 'minute' then frequency * (24.0 / period.value) * 60
    when 'second' then frequency * (24.0 / period.value) * 60 * 60
    when 'day' then frequency * (24.0 / period.value) / 24
    when 'week' then frequency * (24.0 / period.value) / (24 * 7)
    when 'month' then frequency * (24.0 / period.value) / (24 * 30) /* assuming 30 days in month */
    when 'year' then frequency * (24.0 / period.value) / (24 * 365) /* assuming 365 days in year */
    when 'hours' then frequency * (24.0 / period.value)
    when 'minutes' then frequency * (24.0 / period.value) * 60
    when 'seconds' then frequency * (24.0 / period.value) * 60 * 60
    when 'days' then frequency * (24.0 / period.value) / 24
    when 'weeks' then frequency * (24.0 / period.value) / (24 * 7)
    when 'months' then frequency * (24.0 / period.value) / (24 * 30) /* assuming 30 days in month */
    when 'years' then frequency * (24.0 / period.value) / (24 * 365) /* assuming 365 days in year */
    else Message(null, true, 'CMDLogic.ToDaily.UnknownUnit', ErrorLevel, 'Unknown unit ' &amp; period.unit)
  end</code></pre>
                                </td>
                            
                        </tr>
                    
                        <tr>
                            <th><b>Library Name</b></th>
                            <th><b>Name</b></th>
                        </tr>
                        <tr>
                            
                                <td>Status</td>
                            
                            
                                <td>isMedicationActive</td>
                            
                        </tr>
                        <tr>
                            
                                <td></td>
                                <td>
                                    <pre class="highlight language-cql"><code class="language-cql">//Medication, Active
define fluent function isMedicationActive(MedicationRequest List&lt;MedicationRequest&gt;):
  MedicationRequest M
    where M.status = 'active'
      and M.intent = 'order'</code></pre>
                                </td>
                            
                        </tr>
                    
                        <tr>
                            <th><b>Library Name</b></th>
                            <th><b>Name</b></th>
                        </tr>
                        <tr>
                            
                                <td>CumulativeMedicationDuration</td>
                            
                            
                                <td>cumulativeDuration</td>
                            
                        </tr>
                        <tr>
                            
                                <td></td>
                                <td>
                                    <pre class="highlight language-cql"><code class="language-cql">/*
Now that we have functions for determining the medication period for individual
prescriptions, administrations, and dispenses, we can combine those using
an overall cumulative medication duration calculation.
There are two broad approaches to calculating cumulative duration, one that _collapses_
overlapping intervals so that calculations are not duplicated, and one that _rolls out_
overlapping intervals so that the durations are laid end-to-end.
First, we define a function that simply calculates CumulativeDuration of a set of
intervals:
*/
define fluent function cumulativeDuration(Intervals List&lt;Interval&lt;Date&gt;&gt;):
   if Intervals is not null then ( Sum((collapse Intervals per day)X
        return all(difference in days between start of X and 
          end of X
        )+ 1
    )
  ) 
    else null</code></pre>
                                </td>
                            
                        </tr>
                    
                        <tr>
                            <th><b>Library Name</b></th>
                            <th><b>Name</b></th>
                        </tr>
                        <tr>
                            
                                <td>CumulativeMedicationDuration</td>
                            
                            
                                <td>rolloutIntervals</td>
                            
                        </tr>
                        <tr>
                            
                                <td></td>
                                <td>
                                    <pre class="highlight language-cql"><code class="language-cql">/*
Next, we define a function that rolls out intervals:
*/
define fluent function rolloutIntervals(intervals List&lt;Interval&lt;Date&gt;&gt;):
 intervals I aggregate all R starting ( null as List&lt;Interval&lt;Date&gt;&gt;): R
    union ( { I X
        let S: Max({ 
          end of Last(R)+ 1 day, start of X }
        ),
        E: S + Quantity(Coalesce(duration in days of X, 0), 'day')
        return Interval[S, E]}
    )</code></pre>
                                </td>
                            
                        </tr>
                    
                        <tr>
                            <th><b>Library Name</b></th>
                            <th><b>Name</b></th>
                        </tr>
                        <tr>
                            
                                <td>CQMCommon</td>
                            
                            
                                <td>principalDiagnosis</td>
                            
                        </tr>
                        <tr>
                            
                                <td></td>
                                <td>
                                    <pre class="highlight language-cql"><code class="language-cql">/*
@description: Returns the condition that is specified as the principal diagnosis for the encounter
*/
define fluent function principalDiagnosis(Encounter Encounter ):
	singleton from ((Encounter.diagnosis D where D.rank = 1 and D.use ~ &quot;Billing&quot;) PD
      return singleton from ([Condition] C where C.id = PD.condition.reference.getId())
	)</code></pre>
                                </td>
                            
                        </tr>
                    
                        <tr>
                            <th><b>Library Name</b></th>
                            <th><b>Name</b></th>
                        </tr>
                        <tr>
                            
                                <td>QICoreCommon</td>
                            
                            
                                <td>getId</td>
                            
                        </tr>
                        <tr>
                            
                                <td></td>
                                <td>
                                    <pre class="highlight language-cql"><code class="language-cql">/*
@description: Returns the tail of the given uri (i.e. everything after the last slash in the URI).
@comment: This function can be used to determine the logical id of a given resource. It can be used in
a single-server environment to trace references. However, this function does not attempt to resolve
or distinguish the base of the given url, and so cannot be used safely in multi-server environments.
*/
define fluent function getId(uri String):
  Last(Split(uri, '/'))</code></pre>
                                </td>
                            
                        </tr>
                    
                        <tr>
                            <th><b>Library Name</b></th>
                            <th><b>Name</b></th>
                        </tr>
                        <tr>
                            
                                <td>CQMCommon</td>
                            
                            
                                <td>GetLocation</td>
                            
                        </tr>
                        <tr>
                            
                                <td></td>
                                <td>
                                    <pre class="highlight language-cql"><code class="language-cql">/*
@description: Returns the Location resource specified by the given reference
@deprecated: This function is deprecated. Use the fluent function `getLocation()` instead.
*/
define function &quot;GetLocation&quot;(reference Reference ):
  singleton from (
    [Location] L where L.id = reference.reference.getId()
  )</code></pre>
                                </td>
                            
                        </tr>
                    
                        <tr>
                            <th><b>Library Name</b></th>
                            <th><b>Name</b></th>
                        </tr>
                        <tr>
                            
                                <td>FHIRHelpers</td>
                            
                            
                                <td>ToConcept</td>
                            
                        </tr>
                        <tr>
                            
                                <td></td>
                                <td>
                                    <pre class="highlight language-cql"><code class="language-cql">/*
@description: Converts the given FHIR [CodeableConcept](https://hl7.org/fhir/datatypes.html#CodeableConcept) value to a CQL Concept.
*/
define function ToConcept(concept FHIR.CodeableConcept):
    if concept is null then
        null
    else
        System.Concept {
            codes: concept.coding C return ToCode(C),
            display: concept.text.value
        }</code></pre>
                                </td>
                            
                        </tr>
                    
                        <tr>
                            <th><b>Library Name</b></th>
                            <th><b>Name</b></th>
                        </tr>
                        <tr>
                            
                                <td>Status</td>
                            
                            
                                <td>isAssessmentPerformed</td>
                            
                        </tr>
                        <tr>
                            
                                <td></td>
                                <td>
                                    <pre class="highlight language-cql"><code class="language-cql">//This library contains functions that are based on QDM 5.6 to QICore 4.1.1 March 2023 (https://github.com/cqframework/CQL-Formatting-and-Usage-Wiki/wiki/Authoring-Patterns---QICore-v4.1.1). The functions may appear similar to some QICoreCommon functions but different in that they have constraints that are relevant for measures authored by NCQA.

//Assessment, Performed
define fluent function isAssessmentPerformed(Obs List&lt;Observation&gt;):
  Obs O
    where O.status in { 'final', 'amended', 'corrected' }
          and exists ( O.category ObservationCategory
          where ( ObservationCategory ) ~ &quot;survey&quot;
      )</code></pre>
                                </td>
                            
                        </tr>
                    
                        <tr>
                            <th><b>Library Name</b></th>
                            <th><b>Name</b></th>
                        </tr>
                        <tr>
                            
                                <td>Status</td>
                            
                            
                                <td>isInterventionOrder</td>
                            
                        </tr>
                        <tr>
                            
                                <td></td>
                                <td>
                                    <pre class="highlight language-cql"><code class="language-cql">//Intervention, Order: active and completed only    
define fluent function isInterventionOrder(ServiceRequest List&lt;ServiceRequest&gt;):
  ServiceRequest S
    where S.status in { 'active', 'completed' }
      and S.intent = 'order'</code></pre>
                                </td>
                            
                        </tr>
                    
                        <tr>
                            <th><b>Library Name</b></th>
                            <th><b>Name</b></th>
                        </tr>
                        <tr>
                            
                                <td>Status</td>
                            
                            
                                <td>isInterventionPerformed</td>
                            
                        </tr>
                        <tr>
                            
                                <td></td>
                                <td>
                                    <pre class="highlight language-cql"><code class="language-cql">//Intervention, Performed
define fluent function isInterventionPerformed(Proc List&lt;Procedure&gt;):
  Proc P
    where P.status ~ 'completed'</code></pre>
                                </td>
                            
                        </tr>
                    
                        <tr>
                            <th><b>Library Name</b></th>
                            <th><b>Name</b></th>
                        </tr>
                        <tr>
                            
                                <td>QICoreCommon</td>
                            
                            
                                <td>prevalenceInterval</td>
                            
                        </tr>
                        <tr>
                            
                                <td></td>
                                <td>
                                    <pre class="highlight language-cql"><code class="language-cql">/*
@description: Returns an interval representing the normalized prevalence period of a given Condition.
@comment: Uses the ToInterval and ToAbatementInterval functions to determine the widest potential interval from
onset to abatement as specified in the given Condition. If the condition is active, or has an abatement date the resulting 
interval will have a closed ending boundary. Otherwise, the resulting interval will have an open ending boundary.
*/
define fluent function prevalenceInterval(condition Condition):
if condition.clinicalStatus ~ &quot;active&quot;
  or condition.clinicalStatus ~ &quot;recurrence&quot;
  or condition.clinicalStatus ~ &quot;relapse&quot; then
  Interval[start of condition.onset.toInterval(), end of condition.abatementInterval()]
else
    (end of condition.abatementInterval()) abatementDate
    return if abatementDate is null then
      Interval[start of condition.onset.toInterval(), abatementDate)
    else
      Interval[start of condition.onset.toInterval(), abatementDate]</code></pre>
                                </td>
                            
                        </tr>
                    
                    </table>
                </td>
            </tr>
            
        
    

    </table>
</div>
</body>
</html>